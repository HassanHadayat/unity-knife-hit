(function(t){"use strict";var i;void 0===i&&(i=function(){}),i.p=""}).call(this||window,window.__wpcc=window.__wpcc||{}),function(t){"use strict";var i=function(t=-0,i=-0,a=-0){this.x=t,this.y=i,this.z=a},a=function(t,i,a){t.x=i.x+a.x,t.y=i.y+a.y,t.z=i.z+a.z},n=function(t,i,a){t.x=i.x-a.x,t.y=i.y-a.y,t.z=i.z-a.z},e=function(t,i,a){t.x=i.x*a,t.y=i.y*a,t.z=i.z*a},s=function(t){return t.x*t.x+t.y*t.y+t.z*t.z},h=function(t,i,a=1e-5){return t.l(i),t.normalize(a)},o=function(t,i){const a=t.x,n=t.y,e=t.z;t.x=n*i.z-e*i.y,t.y=e*i.x-a*i.z,t.z=a*i.y-n*i.x},r=function(t,i,a){const n=i.x,e=i.y;i=i.z;const s=a.x,h=a.y;a=a.z,t.x=e*a-i*h,t.y=i*s-n*a,t.z=n*h-e*s},f=function(t,i){const a=i.x-t.x,n=i.y-t.y;return a*a+n*n+(t=i.z-t.z)*t},c=function(t,i){return Math.sqrt(f(t,i))},l=function(t,i,a=1e-5){return Math.abs(t.x-i.x)<a&&Math.abs(t.y-i.y)<a&&Math.abs(t.z-i.z)<a},u=function(t=1e-5){return r(fn,ps,ds),fn.W(t)},b=function(t=-0,i=-0,a=-0,n=1){this.x=t,this.y=i,this.z=a,this.w=n,this.normalize()},p=function(t,i,a){const n=i.x,e=i.y,s=i.z;i=i.w;const h=a.x,o=a.y,r=a.z;a=a.w,t.x=n*a+i*h+e*r-s*o,t.y=e*a+i*o+s*h-n*r,t.z=s*a+i*r+n*o-e*h,t.w=i*a-n*h-e*o-s*r},d=function(t,i,a=1e-5){return Math.abs(t.x-i.x)<a&&Math.abs(t.y-i.y)<a&&Math.abs(t.z-i.z)<a&&Math.abs(t.w-i.w)<a},y=function(){pc.markPhysics3dModuleAsUsed(),this.M=this.K=this.J=this.F=this.C=this.o=this.m=this.j=this.B=this.h=this.g=this.f=this.v=this.c=this.b=this.a=0},m=function(t){t.a=1,t.b=0,t.c=0,t.v=0,t.f=0,t.g=1,t.h=0,t.B=0,t.j=0,t.m=0,t.o=1,t.C=0,t.F=0,t.J=0,t.K=0,t.M=1},w=function(t,i){const a=i.x,n=i.y,e=i.z;i.x=t.a*a+t.b*n+t.c*e+t.v,i.y=t.f*a+t.g*n+t.h*e+t.B,i.z=t.j*a+t.m*n+t.o*e+t.C},g=function(t,i,a){a.x=t.a*i.x+t.b*i.y+t.c*i.z,a.y=t.f*i.x+t.g*i.y+t.h*i.z,a.z=t.j*i.x+t.m*i.y+t.o*i.z},x=function(t,i){const a=t.a,n=t.f,e=t.j,s=t.F,h=t.b,o=t.g,r=t.m,f=t.J,c=t.c,l=t.h,u=t.o,b=t.K,p=t.v,d=t.B,y=t.C,m=a*o-n*h,w=a*r-e*h,g=a*f-s*h,x=n*r-e*o,z=n*f-s*o,v=e*f-s*r,M=c*d-l*p,j=c*y-u*p,I=c*(t=t.M)-b*p,P=l*y-u*d,C=l*t-b*d,A=u*t-b*y;var N=m*A-w*C+g*P+x*I-z*j+v*M;N&&(N=1/N,i.a=(o*A-r*C+f*P)*N,i.f=(-n*A+e*C-s*P)*N,i.j=(d*v-y*z+t*x)*N,i.F=(-l*v+u*z-b*x)*N,i.b=(-h*A+r*I-f*j)*N,i.g=(a*A-e*I+s*j)*N,i.m=(-p*v+y*g-t*w)*N,i.J=(c*v-u*g+b*w)*N,i.c=(h*C-o*I+f*M)*N,i.h=(-a*C+n*I-s*M)*N,i.o=(p*z-d*g+t*m)*N,i.K=(-c*z+l*g-b*m)*N,i.v=(-h*P+o*j-r*M)*N,i.B=(a*P-n*j+e*M)*N,i.C=(-p*x+d*w-y*m)*N,i.M=(c*x-l*w+u*m)*N)},z=function(t,i,a){return t<i?i:t>a?a:t},v=function(){pc.markPhysics3dModuleAsUsed(),this.min=new i,this.max=new i},M=function(t,i,a){const n=i.min;i=i.max;const e=a.min;a=a.max,t.min.x=n.x<e.x?n.x:e.x,t.min.y=n.y<e.y?n.y:e.y,t.min.z=n.z<e.z?n.z:e.z,t.max.x=i.x>a.x?i.x:a.x,t.max.y=i.y>a.y?i.y:a.y,t.max.z=i.z>a.z?i.z:a.z},j=function(t){var i=Yr;t.min.add(i),t.max.add(i)},I=function(t,i){const a=t.min,n=i.min;return t=t.max,i=i.max,a.x<=i.x&&t.x>=n.x&&a.y<=i.y&&t.y>=n.y&&a.z<=i.z&&t.z>=n.z},P=function(t,i,a){return a<Number.EPSILON?I(t,i):Math.max(t.min.x-i.max.x,t.min.y-i.max.y,t.min.z-i.max.z,i.min.x-t.max.x,i.min.y-t.max.y,i.min.z-t.max.z)<a},C=function(t,i,a){let e=0;n(wn,a,i),a=wn.length(),wn.scale(1/a);var s=t.min.x,h=t.max.x;if(1e-5>Math.abs(wn.x)){if(i.x<s||i.x>h)return!1}else{var o=1/wn.x;if((s=(s-i.x)*o)>(h=(h-i.x)*o)&&(o=s,s=h,h=o),e=Math.max(e,s),e>(a=Math.min(a,h)))return!1}if(s=t.min.y,h=t.max.y,1e-5>Math.abs(wn.y)){if(i.y<s||i.y>h)return!1}else if(o=1/wn.y,(s=(s-i.y)*o)>(h=(h-i.y)*o)&&(o=s,s=h,h=o),e=Math.max(e,s),e>(a=Math.min(a,h)))return!1;if(s=t.min.z,h=t.max.z,1e-5>Math.abs(wn.z)){if(i.z<s||i.z>h)return!1}else if(t=1/wn.z,(s=(s-i.z)*t)>(i=(h-i.z)*t)&&(t=s,s=i,i=t),e=Math.max(e,s),e>(a=Math.min(a,i)))return!1;return!0},A=function(t,i,a){a.l(i),a.x=z(a.x,t.min.x,t.max.x),a.y=z(a.y,t.min.y,t.max.y),a.z=z(a.z,t.min.z,t.max.z)},N=function(t){pc.markPhysics3dModuleAsUsed(),this.aa=t,this.g=new v,this.L=!1},O=function(t=null){pc.markPhysics3dModuleAsUsed(),this.name=t?t.name:"",this.b=t?t.bounciness:0,this.c=t?t.dynamicFriction:0,this.g=t?t.staticFriction:0,this.f=t?t.frictionCombine:0,this.a=t?t.bounceCombine:0},S=function(t=-0,i=-0,a=-0,n=-0,e=-0,s=-0,h=-0,o=-0,r=-0){this.data=[-0,-0,-0,-0,-0,-0,-0,-0,-0],this.data[0]=t,this.data[1]=n,this.data[2]=h,this.data[3]=i,this.data[4]=e,this.data[5]=o,this.data[6]=a,this.data[7]=s,this.data[8]=r},L=function(t,i){var a=i.x+i.x,n=i.y+i.y;const e=i.z+i.z,s=i.x*a,h=i.x*n,o=i.x*e,r=i.y*n,f=i.y*e,c=i.z*e;a*=i.w,n*=i.w,i=i.w*e,t.data[0]=1-(r+c),t.data[1]=h+i,t.data[2]=o-n,t.data[3]=h-i,t.data[4]=1-(s+c),t.data[5]=f+a,t.data[6]=o+n,t.data[7]=f-a,t.data[8]=1-(s+r)},B=function(t,i){const a=i.x,n=i.y,e=i.z;i.x=t.data[0]*a+t.data[3]*n+t.data[6]*e,i.y=t.data[1]*a+t.data[4]*n+t.data[7]*e,i.z=t.data[2]*a+t.data[5]*n+t.data[8]*e},E=function(t,i){i.data[0]=t.data[0],i.data[1]=t.data[3],i.data[2]=t.data[6],i.data[3]=t.data[1],i.data[4]=t.data[4],i.data[5]=t.data[7],i.data[6]=t.data[2],i.data[7]=t.data[5],i.data[8]=t.data[8]},D=function(t,i,a){const n=i.data[0],e=i.data[3],s=i.data[6],h=i.data[1],o=i.data[4],r=i.data[7],f=i.data[2],c=i.data[5];i=i.data[8];const l=a.data[0],u=a.data[3],b=a.data[6],p=a.data[1],d=a.data[4],y=a.data[7],m=a.data[2],w=a.data[5];a=a.data[8],t.data[0]=l*n+p*e+m*s,t.data[1]=l*h+p*o+m*r,t.data[2]=l*f+p*c+m*i,t.data[3]=u*n+d*e+w*s,t.data[4]=u*h+d*o+w*r,t.data[5]=u*f+d*c+w*i,t.data[6]=b*n+y*e+a*s,t.data[7]=b*h+y*o+a*r,t.data[8]=b*f+y*c+a*i},k=function(t,i){for(let a=0;9>a;a++)t.data[a]*=i},F=function(t,i,a){var n=An;n.set(0,0,0,a),0===t?n.x=i:1===t?n.y=i:n.z=i},G=function(){this.a=new S,this.b=new i,this.c=0,this.f=this.g=null},H=function(t,i){i.W()||(xn.set(0,-t.b.z,t.b.y,t.b.z,0,-t.b.x,-t.b.y,t.b.x,0),a(vn,t.b,i),vn.W()?(D(zn,xn,xn),k(zn,t.c),t.a.add(zn)):(zn.set(0,-vn.z,vn.y,vn.z,0,-vn.x,-vn.y,vn.x,0),xn.multiply(xn),zn.multiply(zn),xn.T(zn),k(xn,t.c),t.a.add(xn)),t.b.add(i),J(t))},J=function(t){t.g=null,t.f=null},_=function(t){t.f=new b;for(let i=0;24>i;i++){L(Cn,t.f),E(Cn,Pn),Pn.multiply(t.a),Pn.multiply(Cn);var a=Math.abs(Pn.data[7]),n=Math.abs(Pn.data[6]),e=Math.abs(Pn.data[3]);if(e=(1+(n=(1+(a=a>n&&a>e?0:n>e?1:2))%3))%3,0===Pn.get(n,e)||Math.abs(Pn.get(n,n)-Pn.get(e,e))>2e6*Math.abs(2*Pn.get(n,e)))break;n=(Pn.get(n,n)-Pn.get(e,e))/(2*Pn.get(n,e)),1e3<(e=Math.abs(n))?F(a,1/(4*n),1):(e=1/(e+Math.sqrt(n*n+1)),e=1/Math.sqrt(e*e+1),F(a,Math.sqrt((1-e)/2)*Math.sign(n),Math.sqrt((1+e)/2))),t.f.multiply(An),t.f.normalize()}t.g=new i(Pn.get(0,0),Pn.get(1,1),Pn.get(2,2))},U=function(t){t.a.set(0,0,0,0,0,0,0,0,0),t.b.set(0,0,0),t.c=0,J(t)},T=function(t,i,a,n){N.call(this,i),this.c=t,this.a=a||null,this.X=0,this._component=null,this.j=!1,this.L=n},K=function(t,a,n){this.a=t,this.f=new i(a.x,a.y,a.z),this.c=new b(n.x,n.y,n.z,n.w),this.c.normalize(),this.transform=new y,this.g=new y,this.b=new v,R(this)},R=function(t){t.transform.ta(t.c,t.f),x(t.transform,t.g),t.b.transform(t.a.g,t.transform)},V=function(t,i,a){return a.i(i)-t.i(i)},q=function(t,i,a,s){return n($n,a,t),t=$n.i(i),e(s,i,-t),s.add(a),t},X=function(t,i,a,e){n(Jn,i,t),_n.l(Jn),1e-5>_n.normalize()?e.l(t):(n(Un,a,t),e.l(_n),e.scale(Un.i(_n)),i=Jn.i(e)/Jn.i(Jn),i=z(i,0,1),e.l(Jn),e.scale(i),e.add(t))},W=function(t,i,a,e,s){n(Nn,a,i),n(On,e,i),n(Sn,t,i);var h=Nn.i(Sn),o=On.i(Sn);if(0>=h&&0>=o)s.l(i);else{n(Sn,t,a);var r=Nn.i(Sn),f=On.i(Sn);if(0<=r&&f<=r)s.l(a);else{var c=h*f-r*o;if(0>=c&&0<=h&&0>=r)c=h/(h-r),s.set(i.x+Nn.x*c,i.y+Nn.y*c,i.z+Nn.z*c);else{n(Sn,t,e),t=Nn.i(Sn);var l=On.i(Sn);0<=l&&t<=l?s.l(e):0>=(h=t*o-h*l)&&0<=o&&0>=l?(c=o/(o-l),s.set(i.x+On.x*c,i.y+On.y*c,i.z+On.z*c)):0>=(o=r*l-t*f)&&0<=f-r&&0<=t-l?(i=(f-r)/(f-r+(t-l)),s.set(a.x+(e.x-a.x)*i,a.y+(e.y-a.y)*i,a.z+(e.z-a.z)*i)):(e=h/(a=o+h+c),c/=a,s.set(Nn.x*e+i.x+On.x*c,Nn.y*e+i.y+On.y*c,Nn.z*e+i.z+On.z*c))}}}},Y=function(t,i,a,s,h,o){n(Xn,i,t),n(Wn,s,a),n(Yn,t,a),i=Xn.i(Xn);var r=Wn.i(Wn);const f=Wn.i(Yn);if(1e-5>=i&&1e-5>=r)return h.l(t),o.l(a),n(Zn,h,o),Zn.i(Zn);if(1e-5>=i){var c=0;r=z(f/r,0,1)}else if(s=Xn.i(Yn),1e-5>=r)r=0,c=z(-s/i,0,1);else{const t=Xn.i(Wn);0>(r=(t*(c=0!=(c=i*r-t*t)?z((t*f-s*r)/c,0,1):0)+f)/r)?(r=0,c=z(-s/i,0,1)):1<r&&(r=1,c=z((t-s)/i,0,1))}return e(h,Xn,c),h.add(t),e(o,Wn,r),o.add(a),n(Zn,h,o),Zn.i(Zn)},Z=function(t,i,a,e,s){n(En,a,i),n(Dn,e,i),n(kn,t,i),t=En.i(En),i=En.i(Dn),a=Dn.i(Dn),e=kn.i(En);const h=kn.i(Dn),o=kn.i(kn),r=t*a-i*i;1e-5>Math.abs(r)?1e-5>Math.abs(t)?(t=Math.sqrt(o/a),s.set(1-t,0,t)):(t=Math.sqrt(o/t),s.set(1-t,t,0)):(s.y=(a*e-i*h)/r,s.z=(t*h-i*e)/r,s.x=1-s.y-s.z)},$=function(t,i){var a=oh,n=nh,s=eh,h=t.i(a);return t=n.i(a)-h,h=s.i(a)-h,-1e-5>t&&-1e-5>h?t>h?(i.l(n),t):(i.l(s),h):1e-5<t&&1e-5<h?t<h?(i.l(n),t):(i.l(s),h):(e(i,a,-h),i.add(s),0)},Q=function(t,i,a,s,h=1e-5){var o=Bs;return n(Qn,a,i),a=o.i(Qn),!(Math.abs(a)<h||(n(te,i,t),0>(t=-o.i(te)/a)||1<t||(e(s,Qn,t),s.add(i),0)))},tt=function(t,i,a,h,o){return n(ie,i,t),n(ae,h,a),n(ne,a,t),r(ee,ne,ae),r(he,ie,ae),!(1e-5>(a=s(he))||0>(i=ee.i(he)/a)||1<i||(r(se,ne,ie),0>(a=se.i(he)/a)||1<a||(e(o,ie,i),o.add(t),0)))},it=function(t,a,e,s){N.call(this,32),this.D=t,this.H=a,this.G=e,this.a=s,this.s=new i,n(oe,this.H,this.D),n(re,this.G,this.D),r(this.s,oe,re),this.s.normalize(),(t=this.g).min.x=Math.min(this.D.x,this.H.x,this.G.x),t.min.y=Math.min(this.D.y,this.H.y,this.G.y),t.min.z=Math.min(this.D.z,this.H.z,this.G.z),t.max.x=Math.max(this.D.x,this.H.x,this.G.x),t.max.y=Math.max(this.D.y,this.H.y,this.G.y),t.max.z=Math.max(this.D.z,this.H.z,this.G.z)},at=function(){pc.markPhysics3dModuleAsUsed(),this.f=this.b=null,this.u=new i,this.a=0,this.s=new i,this.ha=new i,this.g=0},nt=function(t){if(0!==t.length){var i=t.buffer[t.length-1];return t.length--,i}},et=function(t,i){t.buffer[i]=t.buffer[t.length-1],t.length--},st=function(t,i){-1!==(i=t.indexOf(i))&&et(t,i)},ht=function(t,i){t.ea.l(i.ea),t.fa.l(i.fa),t.u.l(i.u)},ot=function(t,i,a,h){if(n(xe,t.position,i.position),xe.W())return!1;xe.normalize(),Me.va(t,i,xe),xe.scale(-1),je.va(t,i,xe);let o=ye;o.I(Me,je),ze.set(1/0,1/0,1/0);let r=0;for(;15>r;){if(o.wa(ve),ve.W())return!1;if(o=o.pa(ve),s(ve)>s(ze))return o.Z(ze,a,h),!0;if(ze.l(ve),e(xe,ze,-1),xe.normalize(),Ie.va(t,i,xe),ze.i(xe)+1e-4>=Ie.u.i(xe))return o.Z(ze,a,h),!0;o=o.ia(Ie),r++}return o.wa(ve),o.pa(ve).Z(ze,a,h),!0},rt=function(t,i,a){this.buffer=t,this.a=i,this.b=a},ft=function(t){this.a=new v,this.g=this.f=null,this.j=0,this.b=t||null,this.c=null,this.h=0},ct=function(t){t.b?t.a.l(t.b.g):M(t.a,t.f.a,t.g.a)},lt=function(t,i){if(i===t)return 1/0;M(Oe,t.a,i.a);{i=(t=Oe).max.y-t.min.y;const a=t.max.z-t.min.z;t=(t.max.x-t.min.x)*(i+a)+i*a}return t},ut=function(t,i){const a=i.b-i.a;if(!(1>=a)){var n=i.get(0);for(t.c=n,t.h=lt(t,n),n=1;n<a;n++){const a=i.get(n),e=lt(t,a);t.h>e&&(t.c=a,t.h=e)}}},bt=function(t){return 153391689&((t=51130563&((t=50393103&((t=4278190335&(t^t<<16))^t<<8))^t<<4))^t<<2)},pt=function(t,i){return t.j-i.j},dt=function(t){return Math.round(Math.max(Math.pow(t,.5)/2*Math.pow(t,.5),1))},yt=function(t,i){var a=t.b-t.a;if(0!==a)if(4>a)mt(t,dt(4));else{if(0<i){var n=0,e=t.b-t.a;do{var s=Math.round((n+e)/2);0<(t.get(s).j&i)?e=s:n=s}while(1<e-n);n=e}else n=Math.ceil(a/2);for(s=t.a,e=t.a+n,t.a=s,t.b=e,a=new rt(t.buffer,t.a+n,t.a+a),yt(t,i>>>=1),yt(a,i),i=a.a;i<a.b;)t.buffer[t.b]=t.buffer[i],t.b++,i++;mt(t,dt(t.b-t.a))}},mt=function(t,i){let a=t.b-t.a;if(!(a<=i)){for(var n=0;n<a;n++)ut(t.get(n),t);for(;a>i;){n=t.get(0);for(var e=0,s=1;s<a;s++){var h=t.get(s);n.h>h.h&&(n=h,e=s)}{s=n,h=n.c;const t=new ft;t.f=s,t.g=h,ct(t),s=t}if(t.buffer[t.a+e]=s,-1===(e=(h=t).indexOf(n.c)))throw Error("Element not found");if(h.buffer[h.a+e]=h.buffer[h.b-1],h.b--,a--,a<=i)break;for(ut(s,t),e=0;e<a;e++)(s=t.get(e)).c!==n&&s.c!==n.c||ut(s,t)}}},wt=function(t){for(var i=[],a=new v,n=0;n<t.length;n++){M(a,a,t[n].g);var e=new ft(t[n]);ct(e),i.push(e)}t=512/(a.max.x-a.min.x),n=512/(a.max.y-a.min.y),e=512/(a.max.z-a.min.z);for(let s=0;s<i.length;s++){const h=i[s];h.j=(bt(((h.a.max.z-h.a.min.z)/2+h.a.min.z+a.min.z)*e)<<2)+(bt(((h.a.max.y-h.a.min.y)/2+h.a.min.y+a.min.y)*n)<<1)+bt(((h.a.max.x-h.a.min.x)/2+h.a.min.x+a.min.x)*t)}i.sort(pt),a=new rt(i,0,i.length),2>=i.length?i=0:(i=i[i.length-1].j,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i|=i>>16,i-=i>>>1),yt(a,i),mt(a,1),this.a=i=a.get(0)},gt=function(t,i,a,n,e){for(T.call(this,t,8,n,e),this.b=i,this.m=a,this.h=this.f=null,(t=this.g).min.x=t.min.y=t.min.z=0,t.max.x=t.max.y=t.max.z=0,i=0;i<this.b.length;i++)t.min.x=Math.min(t.min.x,this.b[i].x),t.min.y=Math.min(t.min.y,this.b[i].y),t.min.z=Math.min(t.min.z,this.b[i].z),t.max.x=Math.max(t.max.x,this.b[i].x),t.max.y=Math.max(t.max.y,this.b[i].y),t.max.z=Math.max(t.max.z,this.b[i].z)},xt=function(t){if(t.f)return t.f;t.f=[];const i=t.b,a=t.m,n=t.f;for(let t=0;t<a.length;t+=3)n.push(new it(i[a[t]],i[a[t+1]],i[a[t+2]],t/3|0));return t.f},zt=function(t){return t.h||(t.h=new wt(xt(t)).a),t.h},vt=function(t,i,n){a(Le,i,t.v),t.ra(Le),jt(t,n,Be),Be.multiply(t.j),Ca(t,Be)},Mt=function(t){if(t.J!==Br||!(1&t.a)||512&t.a)return!1;let i=!0;for(let a=0;a<t.b.a.length;a++){const n=t.b.a[a].a;if(8===n.aa)return!1;i=i&&n.L}return!i},jt=function(t,i,a){t.ca().A(t.m,Se),Se.add(t.f),.001>(t=Se.length())?Se.scale(.5*i-i*i*i*.020833333333*t*t):Se.scale(Math.sin(.5*t*i)/t),a.x=Se.x,a.y=Se.y,a.z=Se.z,a.w=Math.cos(t*i*.5)},It=function(t,i,a,s=!1){let o=a;e(Ee,t.o,t.$),Ee.add(t.g),Ee.scale(a),h(De,Ee),De.scale(1e-4);const r=ka(t);Fe.clear(),Ge.clear(),He.clear();for(var f=0;f<i.length;f++){var l=i[f],u=Fe;if(8===l.b.aa)for(var b=xt(l.b),p=0;p<b.length;p++){var d=b[p];He.buffer.length===He.length?He.add(new We):He.length++;var y=He.buffer[He.length-1];y.I(d,l),u.add(y)}else Ge.buffer.length===Ge.length?Ge.add(new Xe):Ge.length++,(b=Ge.buffer[Ge.length-1]).I(l),u.add(b)}for(i=Aa(t,a),f=0;f<Fe.length;f++)Fe.buffer[f].j(i)||(et(Fe,f),f--);for(;1e-5<o;){t:{for(i=r,f=o,l=s,s=Fe,u=Ee,_e.clear(),Je.l(u),u=Je.normalize(),b=0;b<s.length;b++){y=i,(d=p=s.buffer[b]).c=1/0,d.g=1/0;for(let t=0;t<y.length;t++){if(!d.h(y.buffer[t],Re,Ve)){d.c=0,d.g=0;break}var m=c(Ve,Re);m<d.c&&(d.c=m),n(qe,Ve,Re),(m=qe.i(Je))<d.g&&(d.g=m)}if(p.f=p.c/u*f,(d=0===p.f)&&!l){s=p;break t}p.c>=u?(et(s,b),b--):d&&l&&_e.add(p.a.id)}if(0<_e.length)for(i=0;i<s.length;i++)-1!==_e.indexOf(s.buffer[i].a.id)&&(et(s,i),i--);for(i=null,f=0;f<s.length;f++)l=s.buffer[f],(null===i||l.f<i.f)&&(i=l);s=i}if(!(i=s)){vt(t,Ee,o);break}if(0===(s=i.f))return o!==a&&(t.a|=32),i.a;if(s>=o){vt(t,Ee,o);break}for(ke.l(Ee),ke.scale(s/o),ke.add(De),vt(t,ke,s),Ee.T(ke),i=0;i<r.length;i++)Ua(r.buffer[i]);o-=s,s=!1}return null},Pt=function(t,i){Ue.clear(),Te.clear();for(var a=0;a<t.length;a++){var n=t[a],e=Mt(n);!e||32&n.a?e?(Oa(n,i),Da(n)):e||Te.add(n):Ue.add(n)}if(0!==Ue.length)for(t=0;t<Ue.length;t++){a=Ue.buffer[t],Oa(a,i),a.o.set(0,0,0),a.m.set(0,0,0),n=Aa(a,i),e=[];for(let t=0;t<Te.length;t++){var s=Te.buffer[t];if(I(n,Ma(s))){s=ka(s);for(let t=0;t<s.length;t++){const i=s.buffer[t];!i.b.L&&I(n,i.h)&&e.push(i)}}}0===e.length?Na(a,i):(It(a,e,i,!0),a.a&=-33,Da(a))}},Ct=function(t,i){return t.buffer[0]-i.buffer[0]},At=function(t){var i=Ze;const a=t.min;return t=t.max,Math.min(a.x*i.x,t.x*i.x)+Math.min(a.y*i.y,t.y*i.y)+Math.min(a.z*i.z,t.z*i.z)},Nt=function(t){var i=Ze;const a=t.min;return t=t.max,Math.max(a.x*i.x,t.x*i.x)+Math.max(a.y*i.y,t.y*i.y)+Math.max(a.z*i.z,t.z*i.z)},Ot=function(){this.buffer=[-0,-0,-0,-0,-0,-0],this.b=this.a=this.c=!1,this.body=null},St=function(){this.b=[],this.a=[],this.c=new de,this.f=new de},Lt=function(t,i,a){const n=[];for(let e=0;e<t.b.length;e++){const s=t.b[e];I(i,Ma(s))&&0!=(s.b.f&a)&&n.push(s)}return n},Bt=function(){this.h=0,this.f=this.c=null,this.a=[],this.b=new de,this.g=0},Et=function(t,i){t.a[i].B(),t.a[i]=t.a[t.a.length-1],t.a.pop()},Dt=function(t){for(;t.b.length;)nt(t.b).B();for(;t.a.length;)t.a.pop().B()},kt=function(t,i,a,e){let h=0;return n(is,t.b,i.b),n(as,a.b,e.b),o(is,as),h=Math.max(h,s(is)),n(is,t.b,a.b),n(as,i.b,e.b),o(is,as),h=Math.max(h,s(is)),n(is,t.b,e.b),n(as,i.b,a.b),o(is,as),Math.max(h,s(is))},Ft=function(t,i,a,n){return Math.max(f(t.f,i.f),f(t.f,a.f),f(t.f,n.f),f(i.f,a.f),f(i.f,n.f),f(a.f,n.f))},Gt=function(t,i){if(1===t.c.b.a.length&&1===t.f.b.a.length)if(0===t.b.length){var a=Wa(i);i.h||a.R.add(i),Xa(a),a.o|=sf,t.b.add(a)}else(t=t.b.buffer[0]).h=i.h,t.o&of&&(t.o&=~of,t.o|=hf),i.h||t.R.add(i);else{a=!1;for(let n=t.b.length-1;0<=n;n--){const e=t.b.buffer[n];if(e.J===i.J&&e.C===i.C||e.C===i.J&&e.J===i.C){a=!0,e.h=i.h,e.o&of&&(e.o&=~of,e.o|=hf),i.h||e.R.add(i);break}}a||(a=Wa(i),i.h||a.R.add(i),Xa(a),a.o|=sf,t.b.add(a))}},Ht=function(){this.a=[],this.b=0,this.cache=new Map},Jt=function(t,i){const a=t.a[i];t.a[i]=t.a[t.b-1],t.b--,t.cache.delete(a.h),Dt(a),df(pf.Da,a)},_t=function(t,i){return Math.min(t.id,i.id)+(Math.max(t.id,i.id)<<16)},Ut=function(){this.a=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],this.b=[-0,-0,-0,-0,-0,-0]},Tt=function(t,i,a,n){const e=i+a,s=i*i,h=s+a*e;t.b[0]=e+n,t.b[1]=h+n*t.b[0],t.b[2]=i*s+a*h+n*t.b[1],t.b[3]=t.b[1]+i*(t.b[0]+i),t.b[4]=t.b[1]+a*(t.b[0]+a),t.b[5]=t.b[1]+n*(t.b[0]+n)},Kt=function(t,i,a,n,e){T.call(this,t,4,a,e),this.F=n,this.h=i,this.C=this.B=this.m=this.b=this.o=this.f=null,Qt(this.g,this.h),this.v=null},Rt=function(t){return t.f||Yt(t),t.f},Vt=function(t){return t.b||Yt(t),t.b},qt=function(t){return t.m||Yt(t),t.m},Xt=function(t){return t.B||Yt(t),t.m},Wt=function(t){return t.C||Yt(t),t.C},Yt=function(t){t.eb(),t.hb(),t.gb(),t.fb();{var i=t.f[0],a=t.f[0];let n=t.f[0],e=t.f[0],s=t.f[0],h=t.f[0];for(let o=1;o<t.f.length;o++){const r=t.f[o];r.position.x>i.position.x?i=r:r.position.x<a.position.x&&(a=r),r.position.y>n.position.y?n=r:r.position.y<e.position.y&&(e=r),r.position.z>s.position.z?s=r:r.position.z<h.position.z&&(h=r)}t.C=[i,a,n,e,s,h]}for(i=0;i<t.b.length;i++)(a=t.b[i]).f=null,a.c=[]},Zt=function(t,i){const a=(t=$t(t,i)).position.i(i);let n=t.a[0],e=1/0;for(let h=0;h<t.a.length;h++){const o=t.a[h];var s=(o.c.a===t?o.a:o.c.a).position.i(i);(s=Math.abs(a-s))<e&&(e=s,n=o)}return n},$t=function(t,i){var a=Wt(t);let n=(t=a[0]).position.i(i);for(var e=1;e<a.length;e++){var s=a[e],h=s.position.i(i);h>n&&(t=s,n=h)}do{for(a=!1,e=t,s=0;s<e.a.length;s++){const o=(h=e.a[s].a).position.i(i);o>n&&(n=o,t=h,a=!0)}}while(a);return t},Qt=function(t,i){t.min.x=t.min.y=t.min.z=1/0,t.max.x=t.max.y=t.max.z=-1/0;for(let a=0;a<i.length;a++)t.min.x=Math.min(t.min.x,i[a].x),t.min.y=Math.min(t.min.y,i[a].y),t.min.z=Math.min(t.min.z,i[a].z),t.max.x=Math.max(t.max.x,i[a].x),t.max.y=Math.max(t.max.y,i[a].y),t.max.z=Math.max(t.max.z,i[a].z)},ti=function(t){if(t.F)return null;if(!t.v){t.v=new Ut;var i=t.v,a=Vt(t);for(let t=0;t<a.length;t++){const f=a[t],c=f.a;let l=c.b;do{var e=c.c.a.position,s=l.a.position,h=l.c.a.position;if(n(ss,s,e),n(hs,h,e),r(os,ss,hs),0>os.i(f.s)){os.scale(-1);var o=s;s=h,h=o}o=e.x;const t=s.x,a=h.x,u=e.y,b=s.y,p=h.y;e=e.z,s=s.z,h=h.z;const d=os.x,y=os.y,m=os.z;Tt(i,o,t,a),i.a[0]+=d*i.b[0],i.a[1]+=d*i.b[1],i.a[4]+=d*i.b[2],i.a[7]+=d*(u*i.b[3]+b*i.b[4]+p*i.b[5]),Tt(i,u,b,p),i.a[2]+=y*i.b[1],i.a[5]+=y*i.b[2],i.a[8]+=y*(e*i.b[3]+s*i.b[4]+h*i.b[5]),Tt(i,e,s,h),i.a[3]+=m*i.b[1],i.a[6]+=m*i.b[2],i.a[9]+=m*(o*i.b[3]+t*i.b[4]+a*i.b[5]),l=l.b}while(l.b!==c)}for(a=0;10>a;a++)i.a[a]*=es[a]}return t.v},ii=function(t){const i=[];for(let a=0;a<t.b.length;a++){const n=t.b[a];if(n.g!==ys){t.b[a]=t.b[t.b.length-1],t.b.pop(),a--;for(let t=0;t<n.c.length;t++)i.push(n.c[t])}}return i},ai=function(t,i){var a=t.a;do{var n;if((n=ui(a.f,a.c.f.b)>-Number.EPSILON)&&(n=a.c,n=ui(n.f,n.c.f.b)>-Number.EPSILON),n&&a.f.s.i(a.c.f.s)>1-Number.EPSILON&&-1===i.indexOf(a.c.f)){{var e=a.c.f;e.g=ms;var s=a.c;i=a.g,n=a.b;let h=s.g;s=s.b;let o=i;for(;i.c.f===e;)if(i=i.g,s=s.b,i===o)throw Error("Degenerated face");for(o=n;n.c.f===e;)if(h=h.g,(n=n.b)===o)throw Error("Degenerated face");for(e=s;e!==h.b;e=e.b)e.f=t;t.a===a&&(t.a=n),h.b=n,n.g=h,i.b=s,s.g=i,bi(t)}return!0}a=a.b}while(a!==t.a);return!1},ni=function(t){let i=null,a=-1/0;for(let n=0;n<t.b.length;n++){const e=t.b[n],s=e.h;null!==e.f&&s>a&&(a=s,i=e)}return i},ei=function(t,i,a,n,e){n.g=ms,n=null===a?a=n.a:a.b;do{const a=n.c.f;a.g===ys&&(1e-10<ui(a,i)?ei(t,i,n.c,a,e):e.push(n)),n=n.b}while(a!==n)},si=function(t,i,a){const n=new li,e=new fi;return e.a=t,e.f=n,(t=new fi).a=i,t.f=n,(i=new fi).a=a,i.f=n,e.g=i,e.b=t,t.g=e,t.b=i,i.g=t,i.b=e,n.a=e,bi(n),n},hi=function(t,i){let a=1e-10,n=null;for(let e=0;e<i.length;e++){const s=i[e],h=ui(s,t.position);h>a&&(a=h,n=s)}n&&(n.c.push(t),null===n.f||n.h<a)&&(n.f=t,n.h=a)},oi=function(t,i){for(let a=0;a<t.length;a++)if(Math.abs(t[a].i(i))>1-Number.EPSILON)return!0;return!1},ri=function(t){this.position=t,this.a=[]},fi=function(){this.f=this.a=this.c=this.g=this.b=null},ci=function(t,i){t.c=i,i.c=t},li=function(){this.a=null,this.s=new i,this.b=new i,this.j=0,this.c=[],this.f=null,this.h=0,this.g=ys},ui=function(t,i){return t.s.i(i)-t.j},bi=function(t){const i=t.a;t.s.set(0,0,0),t.b.l(i.a.position),n(ps,i.a.position,i.b.a.position);let a=i.b,e=1;for(;i!==a;){if(t.b.add(a.a.position),t.s.W()&&(n(ds,a.a.position,a.b.a.position),!u(Number.EPSILON))){r(t.s,ds,ps);var s=t.s;s.normalize(Number.EPSILON),s.normalize(Number.EPSILON)}e++,a=a.b}t.b.scale(1/e),t.j=t.s.i(t.b)},pi=function(t,i){for(t=t.a;0<i;)t=t.b,i--;return t},di=function(t,i,a,n){let e=i,s=t;return t<i&&(e=t,s=i),t=n,i=a,a<n&&(t=a,i=n),s>t?i-e:0},yi=function(t,i,a,n,s,h=0){let o=a[0],r=1/0;for(let f=0;f<n;f++){const n=a[f];t.a(n,ws),i.a(n,gs);const c=di(ws[1],ws[0],gs[1],gs[0]);if(c<=-h+Number.EPSILON)return s.l(n),0;const l=di(-ws[0],-ws[1],-gs[0],-gs[1]);if(l<=-h+Number.EPSILON)return e(s,n,-1),0;c<r&&(r=c,o=n),l<r&&(r=l,e(s,n,-1),o=s)}return s.l(o),r},mi=function(){this.c=[],this.f=0},wi=function(){this.c=null},gi=function(t,i){return t.c.S(i,zs),zs.i(i)},xi=function(){this.c=null,this.g=new y,this.f=new y},zi=function(t,i){return g(t.g,i,Ms),t.c.S(Ms,vs),w(t.f,vs),vs.i(i)},vi=function(){this.c=0,this.g=pf.Ka,this.f=null,this.a=new i,this.s=new i,this.b=0},Mi=function(){this.c=1,this.g=pf.Ja,this.f=null,this.j=new i,this.h=new i,this.a=new i,this.s=new i,this.b=0},ji=function(){this.c=2,this.g=pf.La,this.f=null,this.a=new i,this.s=new i,this.b=0},Ii=function(t,i,a,n){Z(i,t.D,t.H,t.G,Is);const e=1e-5<Math.abs(Is.x);var s=1e-5<Math.abs(Is.y),h=1e-5<Math.abs(Is.z),o=e?s||h:s&&h;return e&&s&&h?((s=Qa(pf.Ka)).I(t,i,a,n),s):o?(h=t.D,o=t.H,e?s||(o=t.G):h=t.G,(s=Qa(pf.Ja)).I(t,h,o,i,a,n),s):(i=t.D,s?i=t.H:h&&(i=t.G),(s=Qa(pf.La)).I(t,i,a,n),s)},Pi=function(t,i){if(.99999<Math.abs(t.s.i(i.s)))return null;var a=t.D.i(t.s),n=i.D.i(t.s)-a,s=i.H.i(t.s)-a;if(a=i.G.i(t.s)-a,0<n&&0<s&&0<a||0>n&&0>s&&0>a)return null;e(Ps,t.s,-n),Ps.add(i.D),e(Cs,t.s,-s),Cs.add(i.H),e(As,t.s,-a),As.add(i.G);var h=c(Ps,Cs),o=c(Cs,As),r=c(As,Ps);const f=[];return h>o&&h>r?f.push(Ps,Cs):o>h&&o>r?f.push(Cs,As):f.push(As,Ps),ki(t,f[0],f[1],Ns[0],Ns[1],0)&&ki(i,Ns[0],Ns[1],Os[0],Os[1],0)?(r=i.D.i(i.s),o=t.D.i(i.s)-r,h=t.H.i(i.s)-r,r=t.G.i(i.s)-r,n=Math.abs(Math.min(n,s,a)),s=o,Math.abs(s)>Math.abs(h)&&(s=h),Math.abs(s)>Math.abs(r)&&(s=r),n-1e-5<(a=Math.abs(s))?(e(Ss,t.s,-1),[Ii(t,Os[0],Ss,n),Ii(t,Os[1],Ss,n)]):(e(Ss,i.s,-Math.sign(s)),[Ii(t,Os[0],Ss,a),Ii(t,Os[1],Ss,a)])):null},Ci=function(t,a,n,e){e.Ma||(e.Ma=new Map),e.Ua||(e.Ua=new Map),e.ja||(e.ja=new y,e.ja.l(t.c),e.ja.multiply(n.transform)),t=[];const s=[];n=zt(n.b);do{var h=e.Ma.get(n);if(h||((h=new v).l(n.a),h.transform(h,e.ja),e.Ma.set(n,h)),I(h,a.g))if(n.b){if((h=e.Ua.get(n))||(h={D:new i,H:new i,G:new i,s:new i},e.ja.A(n.b.D,h.D),e.ja.A(n.b.H,h.H),e.ja.A(n.b.G,h.G),g(e.ja,n.b.s,h.s),e.Ua.set(n,h)),n=Pi(a,h))for(h=0;h<n.length;h++)t.push(n[h]);n=s.pop()}else s.push(n.f),n=n.g;else n=s.pop()}while(n);return t},Ai=function(t,i,a,n){switch(Math.max(t,i)){case 1:return a*n;case 2:return Math.min(a,n);case 3:return Math.max(a,n);default:return(a+n)/2}},Ni=function(t,a){for(;t.length<a;)t.push(new i)},Oi=function(t,a,e,s,h){let o=Es;o.clear();for(var f=0;f<a;f++)o.add(t[f]);for(t=0;t<s;t++){a=e[t],n(Ls,t===s-1?e[0]:e[t+1],a),r(Bs,Ls,h),Bs.normalize(),f=Bs.i(a);const l=o===Es?Ds:Es;l.clear();for(let t=0;t<o.length;t++){const n=o.buffer[t],e=t===o.length-1?o.buffer[0]:o.buffer[t+1];var c=Bs.i(n)-f;const s=Bs.i(e)-f;let h=!0;if(0<=c&&0<=s?l.add(e):0<=c&&0>s?(c=new i,h=Q(a,n,e,c,Number.EPSILON),l.add(c)):0>c&&0<=s&&(c=new i,h=Q(a,n,e,c,Number.EPSILON),l.add(c),l.add(e)),!h)return[]}o=l}for(e=[],s=0;s<o.length;s++)e.push(o.buffer[s]);return e},Si=function(t,i){const a=qt(t.b);Ni(i,a.length),t=t.j;for(let n=0;n<a.length;n++)t.A(a[n],i[n]);return i},Li=function(t,i){const a=Rt(t.b);Ni(i,a.length);for(let n=0;n<a.length;n++)t.transform.A(a[n].position,i[n]);return i},Bi=function(t,i){let a=(i=Vt(i.b))[0],n=1/0;for(let e=0;e<i.length;e++){const s=i[e],h=f(s.s,t);h<n&&(a=s,n=h)}return a},Ei=function(t,i){let a=(i=Vt(i.b))[0].s.i(t),n=i[0];for(let e=1;e<i.length;e++){const s=i[e].s.i(t);s<a&&(a=s,n=i[e])}return n},Di=function(t,i){if(48>Rt(t.b).length){const a=Qa(pf.la);return a.I(t,Li(t,i),Rt(t.b).length),a}return(i=Qa(pf.ba)).I(t),i},ki=function(t,i,a,s,h,o){return e(ks,t.s,o),n(s,i,ks),n(h,a,ks),!!(Fi(t,t.D,t.H,s,h)&&Fi(t,t.H,t.G,s,h)&&Fi(t,t.G,t.D,s,h))&&(s.add(ks),h.add(ks),!0)},Fi=function(t,i,a,e,s){n(Fs,a,i),o(Fs,t.s),Fs.normalize();var h=i.i(Fs);return t=e.i(Fs)-h,h=s.i(Fs)-h,!(0<t&&0<h||(0>=t&&0>=h||tt(i,a,e,s,0<t&&0>h?e:s),0))},Gi=function(t,i,a,n,e){T.call(this,t,1,n,e),this.b=Math.max(i,1e-4),this.f=Math.max(Math.abs(a),1e-4),(t=this.g).min.x=t.min.z=-this.b,t.min.y=-this.f-this.b,t.max.x=t.max.z=this.b,t.max.y=this.f+this.b},Hi=function(t,i,a,n){T.call(this,t,16,a,n),this.b=Math.max(i,1e-4),(t=this.g).min.x=t.min.y=t.min.z=-this.b,t.max.x=t.max.y=t.max.z=this.b},Ji=function(t,i,n){const s=t.m.b;e(t.b,t.c,t.j.b.b),t.b.add(i),e(t.a,t.c,-s.b),t.a.add(n),a(t.f,t.b,t.a),t.f.scale(.5),w(t.j.c,t.b),w(t.m.c,t.a)},_i=function(t,i,n){e(t.b,t.c,t.j.b.b),t.b.add(i),t.a.l(n),a(t.f,t.b,t.a),t.f.scale(.5),w(t.j.c,t.b),w(t.m.c,t.a)},Ui=function(t,i,a,s,h){s.l(t),h.l(i),t=q(a.a.a.position,a.s,t,lh),q(a.a.a.position,a.s,i,uh),i=a.a;let o=!0,f=!0,c=0;do{var l=i.c.a.position;const b=i.a.position;n(bh,b,l),r(ph,a.s,bh),ph.normalize();var u=l.i(ph);const p=lh.i(ph)-u;if(1e-5<p&&(o=!1),1e-5<(u=uh.i(ph)-u)&&(f=!1),Math.sign(p)===Math.sign(u))i=i.b;else if(tt(l,b,lh,uh,dh)){if(c++,e(l=0<p?s:h,a.s,t),l.add(dh),2===c)return!0;i=i.b}else i=i.b}while(i!==a.a);return 0!==c||o&&f},Ti=function(t,a,n){t.g.a&a.g.a&65536&&(t=t.b.c+(a.b.c<<16),(a=Xh.get(t))||(a=new i,Xh.set(t,a)),a.l(n))},Ki=function(t,i,a,n,e,s){io.clear();const h=Xt(t.b),o=Xt(i.b);t=t.j,i=i.j,Ni($h,h.length);for(var f=0;f<h.length;f++)t.A(h[f],$h[f]);for(Ni(Qh,o.length),t=0;t<o.length;t++)i.A(o[t],Qh[t]);for(Ni(to,h.length*o.length),t=0;t<h.length;t++)for(i=$h[t],f=0;f<o.length;f++){const a=to[t*o.length+f];r(a,i,Qh[f]),a.W()||(a.normalize(),io.add(a))}return yi(a,n,io.buffer,io.length,e,s)},Ri=function(t,i,a){const e=a.f;return a.transform.A(po,yo),w(t.c,yo),t=i.D.i(i.s),0>=yo.i(i.s)-t?null:(W(yo,i.D,i.H,i.G,wo),t=c(yo,wo),(a=a.b.b-t)<=-e+Number.EPSILON?null:(n(mo,wo,yo),mo.normalize(),[Ii(i,wo,mo,a)]))},Vi=function(t,i,a){var s=a.f;if(go.set(0,a.b.f,0),xo.set(0,-a.b.f,0),w(a.transform,go),w(a.transform,xo),w(t.c,go),w(t.c,xo),n(zo,go,xo),zo.normalize(),t=i.D.i(i.s),go.i(i.s)<t||xo.i(i.s)<t)return null;var h=i.D,o=i.H,r=i.G;t=Y(h,o,go,xo,vo,jo);var c=Y(o,r,go,xo,Ln,Bn);return c+1e-5<t&&(t=c,vo.l(Ln),jo.l(Bn)),(c=Y(r,h,go,xo,Ln,Bn))+1e-5<t&&(t=c,vo.l(Ln),jo.l(Bn)),W(go,h,o,r,Ln),(c=f(go,Ln))+1e-5<t&&(t=c,vo.l(Ln),jo.l(go)),W(xo,h,o,r,Ln),(h=f(xo,Ln))+1e-5<t&&(t=h,vo.l(Ln),jo.l(xo)),t=Math.sqrt(t),(a=a.b.b-t)<=-s+Number.EPSILON?null:(n(Co,vo,jo),Co.normalize(),s=zo.i(i.s),1e-5>Math.abs(s)&&ki(i,go,xo,Io,Po,t)?(e(vo,i.s,-t),vo.add(Io),n(Co,vo,Io),Co.normalize(),s=Ii(i,vo,Co,a),e(Mo,i.s,-t),Mo.add(Po),n(Ao,Mo,Po),Ao.normalize(),i=Ii(i,Mo,Ao,a),s.c<i.c?(df(i.g,i),[s]):i.c<s.c?(df(s.g,s),[i]):[s,i]):[Ii(i,vo,Co,a)])},qi=function(t,a,n){let e=0,s=n.a;do{Bo.length===e&&Bo.push(new i),t.transform.A(s.a.position,Bo[e]),w(a.c,Bo[e]),e++,s=s.b}while(s!==n.a);return e},Xi=function(t,i,a,n){const s=a.f;if(!n.Sa){n.Sa=Li(a,No),n.pb=Rt(a.b).length;for(var h=0;h<n.pb;h++)w(t.c,n.Sa[h])}if(!n.Ra)for(n.Ra=Si(a,Oo),n.ob=qt(a.b).length,h=0;h<n.ob;h++)t.c.U(n.Ra[h]);var o=[i.D,i.G,i.H];48>=Rt(a.b).length?((h=Qa(pf.la)).I(a,n.Sa,n.pb),bf[pf.la].push(h)):((h=Qa(pf.Aa)).I(a,t.transform,t.c),bf[pf.Aa].push(h));var r=Qa(pf.la);if(r.I(t,o,o.length),bf[pf.la].push(r),0===(n=yi(r,h,n.Ra,n.ob,So,s)))return tn(),null;if(0===(h=yi(h,r,[i.s],1,Lo,s)))return tn(),null;if(n-1e-5<h){n=!0,h=So,Do.l(So),g(t.transform,So,ko),a.c.U(ko),r=Bi(ko,a);var f=qi(a,t,r);r=Bo,t=o,a=o.length}else n=!1,h=Lo,e(Do,Lo,-1),r=o,f=o.length,g(t.transform,i.s,ko),a.c.U(ko),o=Ei(ko,a),a=qi(a,t,o),t=Bo;if(0===(t=Oi(t,a,r,f,h)).length)return tn(),null;for(a=[],o=r[0].i(h),r=0;r<t.length;r++){const c=(f=t[r]).i(h)-o;c>s||(n||(e(Eo,h,c),f.add(Eo)),f=Ii(i,f,Do,-c),a.push(f))}return tn(),a},Wi=function(t,i){return 1e-5<Math.abs(i.b-t.b)?i.b-t.b:t.c!==i.c?t.c-i.c:1e-5<Math.abs(t.a.x-i.a.x)?t.a.x-i.a.x:1e-5<Math.abs(t.a.y-i.a.y)?t.a.y-i.a.y:t.a.z-i.a.z},Yi=function(t,i,n,s,h){for(let o=0;o<n.length;o++){const r=n[o],f=Qa(pf.O);f.j=t,f.m=i,s&&(f.h=!0),g(t.transform,r.s,f.c),f.c.scale(-1),f.g=r.b,t.transform.A(r.a,f.b),e(f.a,r.s,r.b),f.a.add(f.b),a(f.f,f.b,f.a),f.f.scale(.5),f.b.l(r.a),w(f.m.c,f.a),h.add(f),df(r.g,r)}},Zi=function(t,i,a,n,e){let s=t,h=i;8!==t.b.aa&&(s=i,h=t);var o=h.f;Fo.transform(h.h,s.c);var r={};t=[],i=[];var f=[],c=zt(s.b);do{if(P(c.a,Fo,o))if(c.b){var u=a(s,c.b,h,r);if(c=f.pop(),null!==u){for(var b=0;b<u.length;b++){const a=u[b];0===a.c?t.push(a):i.push(a)}if(n)break}}else f.push(c.f),c=c.g;else c=f.pop()}while(c);if(0!==t.length||0!==i.length)if(n)Yi(s,h,0!==t.length?t:i,n,e);else{if(i.sort(Wi),0!==i.length){for(a=new Set,o=0;o<t.length;o++)r=t[o],a.add(r.f.D),a.add(r.f.H),a.add(r.f.G);for(b=o=null,r=0;r<i.length;r++)u=(c=1===(f=i[r]).c?a.has(f.j)&&a.has(f.h):a.has(f.a))&&!!o&&1e-5>Math.abs(o.b-f.b),b=!!b&&1e-5>Math.abs(b.b-f.b)&&l(b.a,f.a)&&l(b.s,f.s),a.add(f.f.D),a.add(f.f.H),a.add(f.f.G),b||c&&!u?df(f.g,f):(t.push(f),o=f),b=f}0!==t.length&&Yi(s,h,t,n,e)}},$i=function(){this.a=new Ht,this.b=new de},Qi=function(t,i,a,n){var e=i,s=a;if(8&(e.a|s.a))e=!1;else if(e.a&s.a&65536){var h=tr;e=!(0!==h.g.size&&h.g.has(Math.min(e.id,s.id)+(Math.max(e.id,s.id)<<16))||0===ns[(7&e.a)+(e.b.L?16:8)][(7&s.a)+(s.b.L?16:8)]||(e.b.f&s.b.j)===e.b.f&&(s.b.f&e.b.j)===s.b.f)}else e=!0;if(e)for(i.id>a.id&&(e=i,i=a,a=e),i=ka(i),a=ka(a),e=tr.j,s=0;s<i.length;s++){h=i.buffer[s];for(let i=0;i<a.length;i++){const s=a.buffer[i];e[h.b.X]&1<<s.b.X||t.c(h,s,n)}}},ta=function(){pc.markPhysics3dModuleAsUsed(),this.b=Za(35),this.g=null,this.a=this.f=this.c=0;const t=rf;t[this.b+3]=-1/0,t[this.b+4]=1/0},ia=function(t,i,a){const n=rf;for(t=t.b+11;i<a;i++)n[t+i]=0},aa=function(){pc.markPhysics3dModuleAsUsed(),this.active=!1,this.a=null,this.j=!1,this.b=null,this.m=!1,this.J=this.C=this.B=-0,this.c=[],this.o=-0,this.M=this.F=1/0,this.h=this.g=1,this.f=null,this.v=!1,this._component=null},na=function(t){t.active=!1,t.a=null,t.j=!1,t.b=null,t.m=!1,t.g=1,t.h=1,t.B=0,t.C=0,t.J=0;for(let i=0;i<t.c.length;i++)t.c[i].Ya();t.o=0,t.F=1/0,t.M=1/0,t.f=null},ea=function(t){t.a&&1&t.a.a&&t.a.N(!0),t.b&&1&t.b.a&&t.b.N(!0)},sa=function(t){const i=t.a,a=t.b;i&&a&&da(i,a,t.v)},ha=function(){aa.call(this),this.c.push(new ta),this.K=null},oa=function(){aa.call(this),this.c.push(new ta,new ta),this.K=null,this.P=0},ra=function(){this.c=new de,this.b=new de,this.a=new de,this.f=10},fa=function(t,i){i.f=t,i.a&&ca(t,i,i.a),i.b&&ca(t,i,i.b)},ca=function(t,i,a){t=t.c,a=a.id,t.length<=a&&t.Ta(a+1,null);let n=t.buffer[a];null===n&&(n=new de,t.buffer[a]=n),n.add(i)},la=function(t,i){const a=i.a,n=i.b;t=t.c.buffer,a&&st(t[a.id],i),n&&st(t[n.id],i)},ua=function(){this.h=this.j=this.g=this.c=this.f=this.b=null},ba=function(){this.a=new St,this.b=new $i,this.o=new ua,this.c=new ra,this.f=[],this.v=new i(0,-9.8,0),this.m=2,this.j=new Uint32Array(32),this.h=new Set,this.g=new Set},pa=function(t,i){var a=tr;return 0!==a.h.size&&a.h.has(Math.min(t.c,i.c)+(Math.max(t.c,i.c)<<16))},da=function(t,i,a){var n=tr;const e=Math.min(t.id,i.id);t=Math.max(t.id,i.id),a?n.g.add(e+(t<<16)):0!==n.g.size&&n.g.delete(e+(t<<16))},ya=function(t){N.call(this,2),this.body=t,this.a=[],this.L=!1,this.j=this.f=0,this.h=new i,this.c=new G,this.b=0},ma=function(t){t.a.length=0,t.g.min.set(0,0,0),t.g.max.set(0,0,0),t.L=!1,t.f=0,t.j=0,U(t.c),t.b=0},wa=function(t,i){for(let a=0;a<t.a.length;a++)if(t.a[a].a.c===i)return t.a[a];return null},ga=function(t){return 4&t.b||2&t.b&&za(t),t.h},xa=function(t){t.b|=1,t.b|=2},za=function(t){t.b&=-3;var i=t.body;i=1&i.a?i.B:1/0,U(t.c);for(var a=0,n=0;n<t.a.length;n++)t.a[n].a.L||a++;if(0===a||1/0===i)(a=t.c.a).data[0]=a.data[4]=a.data[8]=1,t.c.c=i,4&t.b||t.h.set(0,0,0);else{for(a=0;a<t.a.length;a++)(n=t.a[a]).a.L||(n.a.ya(Pr),Pr.transform(n.c,n.f),t.c.add(Pr));t.c.scale(i),4&t.b?(e(Cr,t.h,-1),H(t.c,Cr)):(t.h.l(t.c.b),t=t.c,e(In,t.b,-1),H(t,In),J(t))}},va=function(t,a){pc.markPhysics3dModuleAsUsed(),this.id=t,this.b=new ya(this),this.Ga=new v,this.C=new v,this.$a=-0,this.B=a||1/0,this.$=1/a,this.a=17,this.J=Lr,this.F=new i,this.v=new i,this.j=new b(0,0,0,1),this.g=new i,this.M=new i,this.f=new i,this.K=new i,this.R=7+Number.EPSILON,this.ga=new y,m(this.ga),this.Ha=new y,m(this.Ha),this.P=new S,this.h=this.c=this.ab=this.cb=0,this.V=.1,this.o=new i,this.m=new i,this.Ia=Za(6),this.cache=new Dr(this),this._fauxComponent=this._component=null},Ma=function(t){return 8192&t.a?(t.a&=-8193,kr.ta(t.j,t.v),t.Ga.transform(function(t){if(!(1&t.b))return t.g;t.b&=-2;const i=t.g;if(i.min.x=i.min.y=i.min.z=1/0,i.max.x=i.max.y=i.max.z=-1/0,0===t.a.length)return i.min.x=i.min.y=i.min.z=0,i.max.x=i.max.y=i.max.z=0,i;for(let a=0;a<t.a.length;a++){const n=t.a[a];i.min.x=Math.min(i.min.x,n.b.min.x),i.min.y=Math.min(i.min.y,n.b.min.y),i.min.z=Math.min(i.min.z,n.b.min.z),i.max.x=Math.max(i.max.x,n.b.max.x),i.max.y=Math.max(i.max.y,n.b.max.y),i.max.z=Math.max(i.max.z,n.b.max.z)}return i}(t.b),kr),t.Ga):t.Ga},ja=function(t){return 4096&t.a&&Ea(t),t.ga},Ia=function(t){return 4096&t.a&&Ea(t),t.Ha},Pa=function(t,i){(!l(i,t.F)||2048&t.a)&&(t.F.l(i),t.j.A(t.qa(),Gr),t.v.l(i),t.v.T(Gr),Ga(t))},Ca=function(t,i){d(i,t.j,Number.EPSILON)||(Hr.l(t.Y()),t.j.l(i),t.j.normalize(),Fa(t),Pa(t,Hr))},Aa=function(t,i){if(t.J===Lr)return Ma(t);if(16384&t.a){var n=Zr;e(n,t.o,t.$),n.add(t.g),n.scale(i),jt(t,i,$r),i=t.Y(),Qr.ta($r,sn),n=Ma(t),t.C.l(n),e(Yr,i,-1),j(t.C),t.C.transform(t.C,Qr),a(Yr,i,Zr),j(t.C),M(t.C,t.C,n),t.$a=Math.max(c(t.C.min,n.min),c(t.C.max,n.max)),t.a&=-16385}return t.C},Na=function(t,i){if(1&t.a||(t.a|=512),512&t.a)Da(t);else{Oa(t,i);var a=!t.f.W();if(t.g.W()||(e(Tr,t.g,i),Tr.add(t.Y()),Pa(t,Tr)),a){Kr.l(t.f);var n=t.f.length();n<=Number.EPSILON||(1e7<n&&(n=1e7,Kr.normalize(),Kr.scale(1e7)),a=i*n*.5,n=Math.sin(a)/n,a=Math.cos(a),Rr.set(Kr.x*n,Kr.y*n,Kr.z*n,0),p(Rr,Rr,t.j),Rr.x+=t.j.x*a,Rr.y+=t.j.y*a,Rr.z+=t.j.z*a,Rr.w+=t.j.w*a,Rr.normalize(),Ca(t,Rr))}t.b.L||(a=!!(512&t.a),5e-6>.5*(s(t.g)+s(t.f))?0<t.V&&(t.V=Math.max(0,t.V-i)):t.N(!0),a||0!==t.V||(t.a|=512)),Da(t),(i=t.f.length())>t.R&&t.f.scale(t.R/i)}},Oa=function(t,i){e(Ur,t.o,t.$),t.g.add(Ur),t.ca().A(t.m,Ur),t.f.add(Ur);const a=Math.max(0,1-t.cb*i);t.g.scale(a),t.M.scale(a),i=Math.max(0,1-t.ab*i),t.f.scale(i),t.K.scale(i),t.a|=16384},Sa=function(t){t.h&&(Ia(t).U(t.f),t.f.x*=1&t.h?0:1,t.f.y*=2&t.h?0:1,t.f.z*=4&t.h?0:1,ja(t).U(t.f));const i=t.f.length();i>t.R&&t.f.scale(t.R/i)},La=function(t){t.c&&(t.g.x*=1&t.c?0:1,t.g.y*=2&t.c?0:1,t.g.z*=4&t.c?0:1)},Ba=function(t){t.g.set(0,0,0),t.f.set(0,0,0),t.o.set(0,0,0),t.m.set(0,0,0),t.a|=16384},Ea=function(t){t.ga.ta(t.j,t.Y()),x(t.ga,t.Ha),t.a&=-4097},Da=function(t){t.o.set(0,0,0),t.m.set(0,0,0),t.g.T(t.M),t.f.T(t.K),t.M.set(0,0,0),t.K.set(0,0,0);const i=rf,a=t.Ia;for(let t=0;6>t;t++)i[a+t]=0;t.a=32&t.a?64|t.a:-65&t.a,t.a&=-33,t.a&=-129,t.a&=-257,t.a|=16384},ka=function(t){if(32768&t.a)for(var i=t.cache;i.a.length;)Ra(nt(i.a));return t.a&=-32769,65536&(t=t.cache).body.a?(t.a.length!==t.body.b.a.length&&Ha(t,t.a),t=t.a):(i=new de,Ha(t,i),t=i),t},Fa=function(t){t.a|=2048,Ga(t)},Ga=function(t){t.a|=1024,t.a|=4096,t.a|=8192,t.a|=16384,t.a|=32768,t.N()},Ha=function(t,i){const a=t.body.b.a;for(let n=0;n<a.length;n++){const e=Qa(pf.sa);_a(e,t.body,a[n]),i.add(e)}},Ja=function(){this.g=null,this.id="",this.m=this.b=null,this.h=new v,this.position=new i,this.j=new b,this.transform=new y,this.c=new y,this.a=0,this.f=-0,this.cache=new af(this)},_a=function(t,i,a){t.g=i,t.id=`${i.id}->${i.b.a.indexOf(a)}`,t.b=a.a,t.m=a,Ua(t)},Ua=function(t){var i=t.b;n(nf,t.m.f,t.g.qa()),ja(t.g).A(nf,t.position),p(t.j,t.g.j,t.m.c),t.transform.ta(t.j,t.position),x(t.transform,t.c),t.h.transform(i.g,t.transform),t.a=t.g.a,i=t.g,t.f=2!==i.J?0:i.$a},Ta=function(t){return(t=t.cache).b?t=t.b:65536&t.a.g.a?(t.b=Di(t.a,t.g),t=t.b):t=Di(t.a,t.g),t},Ka=function(t){return(t=t.cache).c?t=t.f:(65536&t.a.g.a&&(t.c=!0),t=Si(t.a,t.f)),t},Ra=function(t){var i=t.cache;null!==i.b&&(i.b.b(),i.b=null),i.c=!1,df(pf.sa,t)},Va=function(){pc.markPhysics3dModuleAsUsed(),this.C=this.J=this.F=this.v=this.m=this.j=null,this.h=!1,this.f=new i,this.b=new i,this.a=new i,this.c=new i,this.V=this.$=this.g=0,this.P=this.K=null,this.o=0,this.R=new de,this.ga=new i,this.M=-0,this["__UnityEngine.Collision"]=null,this["__UnityEngine.ContactPoint"]=null},qa=function(t){var i=t.v;t.v=t.F,t.F=i,i=t.J,t.J=t.C,t.C=i,i=t.b,t.b=t.a,t.a=i,t.c.scale(-1)},Xa=function(t){n(t.ga,null===t.F?sn:t.F.g,null===t.v?sn:t.v.g)},Wa=function(t){const i=Qa(pf.O);return i.j=t.j,i.m=t.m,i.v=t.v,i.F=t.F,i.J=t.J,i.C=t.C,i.h=t.h,i.f.l(t.f),i.b.l(t.b),i.a.l(t.a),i.c.l(t.c),i.g=t.g,i.$=t.$,i.V=t.V,i.o=t.o,i},Ya=function(t,i){lf[t][uf[t]-1]=i,uf[t]--},Za=function(t){const i=ff;return ff=i+t,rf.length<=ff&&((t=new Float64Array(2*rf.length)).set(rf),rf=t),i},$a=function(t,i){if(cf.length!==t||lf.length!==t)throw Error("Items should be initialized in ascending order");cf.push(i),lf.push([]),uf.push(0),bf.push([])},Qa=function(t){const i=uf[t],a=lf[t];if(i===a.length)for(let i=0;64>i;i++)a.push(cf[t]());return uf[t]++,a[i]},tn=function(){for(let t=0;t<bf.length;t++)for(;0!==bf[t].length;)Ya(t,bf[t].pop())},an=function(t,i){Object.keys(i).forEach((a=>{const n=i[a];n!==a&&Object.defineProperty(t,n,{get(){return this[a]},set(t){this[a]=t}})}))},nn=function(t,i,a){if(t[a]!==i){if(t[a])throw Error('Name "'+a+'" was taken after minification');t[a]=i}},en=function(t){0>t.name.length&&(t.name="")};i.prototype={set:function(t,i,a){this.x=t,this.y=i,this.z=a},l:function(t){this.x=t.x,this.y=t.y,this.z=t.z},add:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},T:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},multiply:function(t){this.x*=t.x,this.y*=t.y,this.z*=t.z},scale:function(t){this.x*=t,this.y*=t,this.z*=t},length:function(){return Math.sqrt(s(this))},normalize:function(t=1e-5){const i=this.length();return i<t?this.z=this.y=this.x=0:(t=1/i,this.x*=t,this.y*=t,this.z*=t),i},i:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},W:function(t=1e-5){return Math.abs(this.x)<t&&Math.abs(this.y)<t&&Math.abs(this.z)<t}};var sn=new i(0,0,0),hn=new i(1,0,0),on=new i(0,1,0),rn=new i(0,0,1),fn=new i;b.prototype={set:function(t,i,a,n){this.x=t,this.y=i,this.z=a,this.w=n},l:function(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w},toString:function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},multiply:function(t){const i=this.x,a=this.y,n=this.z,e=this.w,s=t.x,h=t.y,o=t.z;t=t.w,this.x=i*t+e*s+a*o-n*h,this.y=a*t+e*h+n*s-i*o,this.z=n*t+e*o+i*h-a*s,this.w=e*t-i*s-a*h-n*o},normalize:function(){let t=this.length();1e-5>t?(this.x=this.y=this.z=0,this.w=1):(t=1/t,this.x*=t,this.y*=t,this.z*=t,this.w*=t)},a:function(t){var i=t.x;const a=t.y,n=t.z,e=this.x,s=this.y,h=this.z,o=this.w,r=o*i+s*n-h*a,f=o*a+h*i-e*n,c=o*n+e*a-s*i;i=-e*i-s*a-h*n,t.x=r*o+i*-e+f*-h-c*-s,t.y=f*o+i*-s+c*-e-r*-h,t.z=c*o+i*-h+r*-s-f*-e},A:function(t,i){var a=t.x;const n=t.y,e=t.z;t=this.x;const s=this.y,h=this.z,o=this.w,r=o*a+s*e-h*n,f=o*n+h*a-t*e,c=o*e+t*n-s*a;a=-t*a-s*n-h*e,i.x=r*o+a*-t+f*-h-c*-s,i.y=f*o+a*-s+c*-t-r*-h,i.z=c*o+a*-h+r*-s-f*-t},length:function(){const t=this.x,i=this.y,a=this.z,n=this.w;return Math.sqrt(t*t+i*i+a*a+n*n)},W:function(){return(0===this.x||1e-5>Math.abs(this.x))&&(0===this.y||1e-5>Math.abs(this.y))&&(0===this.z||1e-5>Math.abs(this.z))}};var cn=new b;y.prototype={l:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.v=t.v,this.f=t.f,this.g=t.g,this.h=t.h,this.B=t.B,this.j=t.j,this.m=t.m,this.o=t.o,this.C=t.C,this.F=t.F,this.J=t.J,this.K=t.K,this.M=t.M},ta:function(t,i){var a=t.x+t.x,n=t.y+t.y;const e=t.z+t.z,s=t.x*a,h=t.x*n,o=t.x*e,r=t.y*n,f=t.y*e,c=t.z*e;a*=t.w,n*=t.w,t=t.w*e,this.a=1-(r+c),this.f=h+t,this.j=o-n,this.F=0,this.b=h-t,this.g=1-(s+c),this.m=f+a,this.J=0,this.c=o+n,this.h=f-a,this.o=1-(s+r),this.K=0,this.v=i.x,this.B=i.y,this.C=i.z,this.M=1},A:function(t,i){i.x=this.a*t.x+this.b*t.y+this.c*t.z+this.v,i.y=this.f*t.x+this.g*t.y+this.h*t.z+this.B,i.z=this.j*t.x+this.m*t.y+this.o*t.z+this.C},U:function(t){const i=t.x,a=t.y,n=t.z;t.x=this.a*i+this.b*a+this.c*n,t.y=this.f*i+this.g*a+this.h*n,t.z=this.j*i+this.m*a+this.o*n},multiply:function(t){const i=this.a,a=this.f,n=this.j,e=this.F,s=this.b,h=this.g,o=this.m,r=this.J,f=this.c,c=this.h,l=this.o,u=this.K,b=this.v,p=this.B,d=this.C,y=this.M;let m=t.a,w=t.f,g=t.j,x=t.F;this.a=m*i+w*s+g*f+x*b,this.f=m*a+w*h+g*c+x*p,this.j=m*n+w*o+g*l+x*d,this.F=m*e+w*r+g*u+x*y,m=t.b,w=t.g,g=t.m,x=t.J,this.b=m*i+w*s+g*f+x*b,this.g=m*a+w*h+g*c+x*p,this.m=m*n+w*o+g*l+x*d,this.J=m*e+w*r+g*u+x*y,m=t.c,w=t.h,g=t.o,x=t.K,this.c=m*i+w*s+g*f+x*b,this.h=m*a+w*h+g*c+x*p,this.o=m*n+w*o+g*l+x*d,this.K=m*e+w*r+g*u+x*y,m=t.v,w=t.B,g=t.C,x=t.M,this.v=m*i+w*s+g*f+x*b,this.B=m*a+w*h+g*c+x*p,this.C=m*n+w*o+g*l+x*d,this.M=m*e+w*r+g*u+x*y}},Object.defineProperty(y.prototype,"data",{get:function(){return[this.a,this.f,this.j,this.F,this.b,this.g,this.m,this.J,this.c,this.h,this.o,this.K,this.v,this.B,this.C,this.M]}}),v.prototype={l:function(t){this.min.x=t.min.x,this.min.y=t.min.y,this.min.z=t.min.z,this.max.x=t.max.x,this.max.y=t.max.y,this.max.z=t.max.z},transform:function(t,i){for(ln.set(0,0,0),i.A(ln,un),bn[0]=t.min.x,bn[1]=t.min.y,bn[2]=t.min.z,pn[0]=t.max.x,pn[1]=t.max.y,pn[2]=t.max.z,dn[0]=un.x,dn[1]=un.y,dn[2]=un.z,yn[0]=un.x,yn[1]=un.y,yn[2]=un.z,mn[0]=i.a,mn[1]=i.b,mn[2]=i.c,mn[3]=i.f,mn[4]=i.g,mn[5]=i.h,mn[6]=i.j,mn[7]=i.m,mn[8]=i.o,t=0;3>t;t++)for(i=0;3>i;i++){const a=mn[3*t+i]*bn[i],n=mn[3*t+i]*pn[i];a<n?(dn[t]+=a,yn[t]+=n):(dn[t]+=n,yn[t]+=a)}this.min.set(dn[0],dn[1],dn[2]),this.max.set(yn[0],yn[1],yn[2])},Ta:function(t){0<t.x?this.max.x+=t.x:this.min.x+=t.x,0<t.y?this.max.y+=t.y:this.min.y+=t.y,0<t.z?this.max.z+=t.z:this.min.z+=t.z}};var ln=new i,un=new i,bn=[-0,-0,-0],pn=[-0,-0,-0],dn=[-0,-0,-0],yn=[-0,-0,-0],mn=[-0,-0,-0,-0,-0,-0,-0,-0,-0],wn=new i;S.prototype={set(t,i,a,n,e,s,h,o,r){this.data[0]=t,this.data[1]=n,this.data[2]=h,this.data[3]=i,this.data[4]=e,this.data[5]=o,this.data[6]=a,this.data[7]=s,this.data[8]=r},A:function(t,i){i.x=this.data[0]*t.x+this.data[3]*t.y+this.data[6]*t.z,i.y=this.data[1]*t.x+this.data[4]*t.y+this.data[7]*t.z,i.z=this.data[2]*t.x+this.data[5]*t.y+this.data[8]*t.z},add(t){for(let i=0;9>i;i++)this.data[i]+=t.data[i]},T(t){for(let i=0;9>i;i++)this.data[i]-=t.data[i]},multiply:function(t){const i=this.data[0],a=this.data[3],n=this.data[6],e=this.data[1],s=this.data[4],h=this.data[7],o=this.data[2],r=this.data[5],f=this.data[8],c=t.data[0],l=t.data[3],u=t.data[6],b=t.data[1],p=t.data[4],d=t.data[7],y=t.data[2],m=t.data[5];t=t.data[8],this.data[0]=c*i+b*a+y*n,this.data[1]=c*e+b*s+y*h,this.data[2]=c*o+b*r+y*f,this.data[3]=l*i+p*a+m*n,this.data[4]=l*e+p*s+m*h,this.data[5]=l*o+p*r+m*f,this.data[6]=u*i+d*a+t*n,this.data[7]=u*e+d*s+t*h,this.data[8]=u*o+d*r+t*f},get(t,i){return this.data[3*i+t]},l:function(t){for(let i=0;9>i;i++)this.data[i]=t.data[i]}},G.prototype={transform(t,i){L(gn,t),D(this.a,gn,this.a);{var a=gn;const t=a.data[3],i=a.data[6],n=a.data[1],e=a.data[4],s=a.data[7],h=a.data[2],o=a.data[5],r=a.data[8];a.data[0]=a.data[0],a.data[1]=t,a.data[2]=i,a.data[3]=n,a.data[4]=e,a.data[5]=s,a.data[6]=h,a.data[7]=o,a.data[8]=r}this.a.multiply(gn),t.a(this.b),J(this),H(this,i)},add(t){const i=this.c+t.c;e(Mn,this.b,this.c),e(jn,t.b,t.c),a(this.b,Mn,jn),this.b.scale(1/i),this.c=i,this.a.add(t.a),J(this)},scale(t){t/=this.c,k(this.a,t),this.c*=t,J(this)}};var gn=new S,xn=new S,zn=new S,vn=new i,Mn=new i,jn=new i,In=new i,Pn=new S,Cn=new S,An=new b;(T.prototype=Object.create(N.prototype)).ya=function(){throw Error("Not implemented")};var Nn=new i,On=new i,Sn=new i,Ln=new i,Bn=new i,En=new i,Dn=new i,kn=new i,Fn=new i,Gn=new i,Hn=new i,Jn=new i,_n=new i,Un=new i,Tn=new i,Kn=new i,Rn=new i,Vn=new i,qn=new i,Xn=new i,Wn=new i,Yn=new i,Zn=new i,$n=new i,Qn=new i,te=new i,ie=new i,ae=new i,ne=new i,ee=new i,se=new i,he=new i;(it.prototype=Object.create(N.prototype)).S=function(t,i){let a=-1/0,n=t.i(this.D);n>a&&(i.l(this.D),a=n),n=t.i(this.H),n>a&&(i.l(this.H),a=n),n=t.i(this.G),n>a&&i.l(this.G)};var oe=new i,re=new i,fe=new i,ce=new i,le=new i,ue=new i,be=new i,pe=new i;at.prototype={c(){df(pf.ka,this)}};var de=class{constructor(){this.buffer=[],this.length=0}add(t){this.buffer.length>this.length?this.buffer[this.length]=t:this.buffer.push(t),this.length++}Ta(t,i){if(!(this.length>=t))if(this.buffer.length>=t)this.length=t;else for(this.length=this.buffer.length;this.length<t;)this.add(i)}fill(t){this.buffer.fill(t)}indexOf(t){for(let i=0;i<this.length;i++)if(this.buffer[i]===t)return i;return-1}clear(){this.length=0}},ye=null,me=null,we=null,ge=class{constructor(){this.ea=new i,this.fa=new i,this.u=new i,this.a={va:{ac:new i}}}va(t,i,a){const s=this.a.va.ac;t.S(a,this.ea),e(s,a,-1),i.S(s,this.fa),n(this.u,this.ea,this.fa)}};ye=new class{constructor(){this.a=new ge,this.b=new ge,this.c={wa:{Bc:new i},Z:{ha:new i,Wa:new i}}}I(t,i){ht(this.a,t),ht(this.b,i)}wa(t){X(this.a.u,this.b.u,sn,t)}pa(){return this}Z(t,i,a){const n=this.c.Z.ha,s=this.c.Z.Wa,h=this.b.u,o=this.a.ea,r=this.a.fa,f=this.b.ea,c=this.b.fa;Z(t,this.a.u,h,h,n),e(i,o,n.x),e(s,f,n.y),i.add(s),e(a,r,n.x),e(s,c,n.y),a.add(s)}ia(t){const i=me;return i.I(this.a,this.b,t),i}},me=new class{constructor(){this.a=new ge,this.b=new ge,this.c=new ge,this.s=new i,this.f={I:{Oa:new i,Ob:new i},pa:{ha:new i},Z:{ha:new i,Wa:new i},ia:{Oa:new i,Hb:new i,Pb:new i,Qb:new i}}}I(t,i,a){const e=this.f.I.Oa,s=this.f.I.Ob;ht(this.a,t),ht(this.b,i),ht(this.c,a),n(e,i.u,t.u),n(s,a.u,t.u),r(this.s,e,s)}wa(t){W(sn,this.a.u,this.b.u,this.c.u,t)}pa(t){var i=this.f.pa.ha;Z(t,this.a.u,this.b.u,this.c.u,i),t=1e-5<Math.abs(i.x);var a=1e-5<Math.abs(i.y);return i=1e-5<Math.abs(i.z),t&&a&&i?this:(i=ye,t?a?(t=this.a,a=this.b):(t=this.a,a=this.c):(t=this.b,a=this.c),i.I(t,a),i)}Z(t,i,a){const n=this.f.Z.ha,s=this.f.Z.Wa,h=this.a.ea,o=this.a.fa,r=this.b.ea,f=this.b.fa,c=this.c.ea,l=this.c.fa;Z(t,this.a.u,this.b.u,this.c.u,n),e(i,h,n.x),e(s,r,n.y),i.add(s),e(s,c,n.z),i.add(s),e(a,o,n.x),e(s,f,n.y),a.add(s),e(s,l,n.z),a.add(s)}ia(t){var i=this.f.ia.Oa;const a=this.f.ia.Hb;var e=this.f.ia.Pb,s=this.f.ia.Qb;const h=this.a.u,o=this.b.u;var f=this.c.u;return 1e-5>Math.abs(h.i(this.s)-t.u.i(this.s))?(n(i,h,o),n(a,f,h),n(e,o,f),r(s,this.s,i),s.normalize(),i=1e-5<V(o,s,t.u),r(s,this.s,e),s.normalize(),e=1e-5<V(f,s,t.u),ht(i?this.c:e?this.a:this.b,t),this):(e=we,s=this.a,f=this.b,i=this.c,t.u.i(this.s)>s.u.i(this.s)?e.I(s,f,i,t):e.I(s,f,t,i),e)}},we=new class{constructor(){this.a=new ge,this.g=new ge,this.b=new ge,this.f=new ge,this.c=-1}I(t,i,a,n){ht(this.a,t),ht(this.g,i),ht(this.b,a),ht(this.f,n),t=this.a.u,i=this.g.u,a=this.b.u,n=this.f.u,t=!(l(t,i)||l(t,a)||l(t,n)||l(i,a)||l(i,n)||l(a,n)),this.c=-1}wa(t){{var i=this.a.u,a=this.g.u,e=this.b.u,s=this.f.u;n(Rn,a,s),n(Vn,i,s),n(qn,e,s);let o=-1;var h=!0;let c=1/0;r(Tn,qn,Vn),Tn.i(s)<=Tn.i(sn)&&(W(sn,s,e,i,Kn),(h=f(sn,Kn))<c&&(t.l(Kn),c=h,o=0),h=!1),r(Tn,Rn,qn),Tn.i(s)<=Tn.i(sn)&&(W(sn,s,a,e,Kn),(h=f(sn,Kn))<c&&(t.l(Kn),c=h,o=1),h=!1),r(Tn,Vn,Rn),Tn.i(s)<=Tn.i(sn)&&(W(sn,s,i,a,Kn),(s=f(sn,Kn))<c&&(t.l(Kn),c=s,o=2),h=!1),n(Rn,e,i),n(Vn,a,i),r(Tn,Rn,Vn),Tn.i(i)<=Tn.i(sn)&&(W(sn,i,e,a,Kn),f(sn,Kn)<c&&(t.l(Kn),o=3),h=!1),h&&t.l(sn),t=o}this.c=t}pa(t){let i,a,n;0===this.c?(i=this.f,a=this.b,n=this.a):1===this.c?(i=this.f,a=this.g,n=this.b):(2===this.c?(i=this.f,a=this.a):(i=this.a,a=this.b),n=this.g);const e=me;return e.I(i,a,n),e.pa(t)}Z(){throw Error("Cannot extract coordinates from 3-simplex: should be simplified to 2-simplex first")}ia(){throw Error("Cannot extend 3-simplex: should be simplified to 2-simplex first")}};var xe=new i,ze=new i,ve=new i,Me=new ge,je=new ge,Ie=new ge,Pe=new class{constructor(){this.position=new i}I(t){this.position.l(t)}S(t,i){i.l(this.position)}},Ce=new i,Ae=new class{constructor(){this.position=new i,this.b=new i,this.a=new i}I(t,i){a(this.position,t,i),this.position.scale(.5),this.b.l(t),this.a.l(i)}S(t,i){this.b.i(t)>(t=this.a.i(t))?i.l(this.b):i.l(this.a)}};new class{constructor(){this.position=new i,this.a=new v}I(t){a(this.position,t.min,t.max),this.position.scale(.5),this.a.l(t)}S(t,i){const a=this.a.min,n=this.a.max;i.x=0>t.x?a.x:n.x,i.y=0>t.y?a.y:n.y,i.z=0>t.z?a.z:n.z}};var Ne=new class{constructor(){this.D=new i,this.H=new i,this.G=new i,this.position=new i}I(t,i,n){this.D.l(t),this.H.l(i),this.G.l(n),a(this.position,this.D,this.H),this.position.add(this.G),this.position.scale(1/3)}S(t,i){const a=this.D.i(t),n=this.H.i(t);t=this.G.i(t),a>n&&a>t?i.l(this.D):n>t?i.l(this.H):i.l(this.G)}};rt.prototype.get=function(t){if(t>=this.b-this.a)throw Error("Slice overflow");return this.buffer[this.a+t]},rt.prototype.indexOf=function(t){for(let i=0;i<this.b-this.a;i++)if(this.get(i)===t)return i;return-1},ft.prototype={};var Oe=new v;(gt.prototype=Object.create(T.prototype)).o=function(){const t=new gt(this.c,this.b,this.m,this.a,this.L);return t.X=this.X,t.f=xt(this),t.h=zt(this),t},gt.prototype.S=function(){throw Error("Not implemented for the mesh shape")},gt.prototype.za=function(t,i){let a=null;const s=[zt(this)];for(;0<s.length;){var h=s.pop();if(C(h.a,t,i))if(h.b){h=h.b;var o=t,f=i;n(fe,h.H,h.D),n(ce,h.G,h.D),r(le,fe,ce),n(ue,f,o);var c=-ue.i(le);if(0>=c)h=null;else if(n(be,o,h.D),0>(f=be.i(le)/c)||1<f)h=null;else{r(pe,be,ue);var l=ce.i(pe)/c;1.00001<l+(c=-fe.i(pe)/c)||0>l||0>c?h=null:((l=Qa(pf.ka)).b=h,l.a=f*ue.length(),e(l.u,ue,f),l.u.add(o),l.s.l(h.s),Z(l.u,h.D,h.H,h.G,l.ha),l.g=h.a,h=l)}h&&(!a||a.a>h.a)&&(a=h)}else s.push(h.f,h.g)}return a};var Se=new i,Le=new i,Be=new b,Ee=new i,De=new i,ke=new i,Fe=new de,Ge=new de,He=new de,Je=new i,_e=new de,Ue=new de,Te=new de,Ke=class{constructor(){this.g=this.c=1/0,this.a=null,this.f=1/0}},Re=new i,Ve=new i,qe=new i,Xe=class extends Ke{I(t){this.a=t}h(t,i,a){return ot(t,this.a,i,a)}j(t){return I(this.a.h,t)}},We=class extends Ke{constructor(){super(),this.D=new i,this.H=new i,this.G=new i,this.b=new v}I(t,i){i.transform.A(t.D,this.D),i.transform.A(t.H,this.H),i.transform.A(t.G,this.G),this.b.min.x=Math.min(this.D.x,this.H.x,this.G.x),this.b.min.y=Math.min(this.D.y,this.H.y,this.G.y),this.b.min.z=Math.min(this.D.z,this.H.z,this.G.z),this.b.max.x=Math.max(this.D.x,this.H.x,this.G.x),this.b.max.y=Math.max(this.D.y,this.H.y,this.G.y),this.b.max.z=Math.max(this.D.z,this.H.z,this.G.z),this.a=i}h(t,i,a){return Ne.I(this.D,this.H,this.G),ot(t,Ne,i,a)}j(t){return I(this.b,t)}};Ot.prototype={I(t){this.body=t}},St.prototype.g=function(t){this.c.clear(),this.f.clear();for(var i=0;i<this.a.length;i++){var a=this.a[i],n=t,e=a.body;a.a=Mt(e);var s=Aa(e,n);n=s.min,s=s.max;var h=a.buffer;h[0]=n.x,h[1]=n.y,h[2]=n.z,h[3]=s.x,h[4]=s.y,h[5]=s.z,a.c=!!(4&e.a),a.b=!!(512&e.a),a.a=Mt(e)}for(this.a.sort(Ct),e=0;e<this.a.length;e++){a=this.a[e];var o=e+1;i=t,n=this.a,s=this.c,h=a.buffer[3];const f=s.length;for(a.a&&(o=0);o<n.length;o++){const t=n[o];if(a!==t){if(t.buffer[0]>=h)break;var r;if(!(r=a.b&&t.b)&&!(r=!a.a&&t.a)&&!(r=a.c&&t.c)){{r=a.buffer;const i=t.buffer;r=r[1]<i[4]&&r[4]>i[1]&&r[2]<i[5]&&r[5]>i[2]}r=!r}r||(s.add(a.body),s.add(t.body))}}a.a&&f!==s.length&&this.h(a.body,i,f,s.length)}},St.prototype.h=function(t,i,a,n){Ye.clear();const e=h(Ze,t.g)*i;if(!(1e-5>e)){i=[];var s=Ma(t),o=At(s),r=(s=Nt(s))-o;if(!(1e-5>r)){for(var f=this.c.buffer;a<n;a+=2){const t=f[a+1];var c=Ma(t),l=At(c);const n=Nt(c);c=.1*Math.max(r,n-l);{var u=o;let t=n;o<l&&(u=l,t=s),u=Math.max(0,u-t)}1e-5<(l=e-u-Math.max(0,Math.min(s,n)-Math.max(o,l)))&&l>c?i.push(t):Ye.add(t)}if(0<i.length){for(n=0;n<Ye.length;n++)i.push(Ye.buffer[n]);i.push(t),this.f.add(i)}}}};var Ye=new de,Ze=new i,$e=new i,Qe=new i,ts=new i,is=new i,as=new i,ns={9:{9:2,10:2,12:2,17:1,18:1,20:1},10:{9:2,10:0,12:0,17:1,18:1,20:1},12:{9:2,10:0,12:0,17:1,18:1,20:0},17:{9:1,10:1,12:1,17:1,18:1,20:1},18:{9:1,10:1,12:1,17:1,18:1,20:1},20:{9:1,10:1,12:0,17:1,18:1,20:0}};Ut.prototype={};var es=[1/6,1/24,1/24,1/24,1/60,1/60,1/60,1/120,1/120,1/120],ss=new i,hs=new i,os=new i;Kt.prototype=Object.create(T.prototype),t.l=Kt.prototype,t.l.S=function(t,i){if(this.F){const a=this.g.max;i.set(0>t.x?-a.x:a.x,0>t.y?-a.y:a.y,0>t.z?-a.z:a.z)}else t=$t(this,t),i.l(t.position)},t.l.yb=function(){const t=new Kt(this.c,this.h,this.a,this.F,this.L);return t.X=this.X,t.f=Rt(this),this.o||Yt(this),t.o=this.o,t.b=Vt(this),t.m=qt(this),t.B=Xt(this),t.C=Wt(this),t.v=ti(this),t},t.l.za=function(t,i){n(fs,i,t),i=0;let a=null;var s=!0;const h=Vt(this);for(let n=0;n<h.length;n++){const e=h[n],o=ui(e,t),r=e.s.i(fs),f=-o/r;if(0<o&&(s=!1),!(1e-5<r))if(-1e-5>r)f>i&&(i=f,a=e);else if(1e-5<o)return null}return s||!a||0>i||1<i?null:((s=Qa(pf.ka)).b=this,s.a=i*fs.length(),e(s.u,fs,i),s.u.add(t),s.s.l(a.s),s)},t.l.ya=function(t){if(this.F){var i=this.g.max,a=i.x,n=i.y,e=i.z;U(t);var s=1/3*(i=8*a*n*e);a*=a,n*=n,e*=e,t.a.set((n+e)*s,0,0,0,(a+e)*s,0,0,0,(a+n)*s),t.c=i}else i=ti(this),U(t),t.a.data[0]=i.a[5]+i.a[6],t.a.data[4]=i.a[4]+i.a[6],t.a.data[8]=i.a[4]+i.a[5],t.a.data[1]=t.a.data[3]=-i.a[7],t.a.data[5]=t.a.data[7]=-i.a[8],t.a.data[2]=t.a.data[6]=-i.a[9],s=i.a[0],t.b.set(i.a[1]/s,i.a[2]/s,i.a[3]/s),t.c=s},t.l.eb=function(){let t=null,i=null;for(var a=0;a<cs.length;a++){for(var e=1/0,s=-1/0,h=0;h<this.h.length;h++){var o=this.h[h].i(cs[a]);o<e?(t=this.h[h],e=o):o>s&&(i=this.h[h],s=o)}if(null!==t&&null!==i&&s>e)break;i=t=null}if(null===t||null===i)throw Error("Degenerate point cloud, either 1D or 2D");for(a=null,e=-1/0,s=0;s<this.h.length;s++)if((h=this.h[s])!==t&&h!==i){o=h;var f=t,c=i;n(Fn,f,c),n(Gn,f,o),n(Hn,c,o),(o=0>=(o=Gn.i(Fn))?Gn.i(Gn):o>=(f=Fn.i(Fn))?Hn.i(Hn):Gn.i(Gn)-o*o/f)>e&&(e=o,a=h)}if(null===a||Math.abs(e)<Number.EPSILON)throw Error("Degenerate point cloud in 2D");for(n(us,t,i),n(bs,a,i),r(ls,us,bs),ls.normalize(Number.EPSILON),s=i.i(ls),e=null,h=-1/0,o=0;o<this.h.length;o++)(f=this.h[o])!==t&&f!==i&&f!==a&&(c=Math.abs(ls.i(f)-s))>h&&(h=c,e=f);if(null===e||Math.abs(h)<Number.EPSILON)throw Error("Degenerate point cloud in 2D");h=new ri(t),o=new ri(i),f=new ri(a),c=new ri(e);const l=0>e.i(ls)-s;if(s=this.b=[],l)for(s.push(si(h,o,f)),s.push(si(c,o,h)),s.push(si(c,f,o)),s.push(si(c,h,f)),h=0;3>h;h++)o=(h+1)%3,ci(pi(s[h+1],1),pi(s[o+1],0)),ci(pi(s[h+1],2),pi(s[0],o));else for(s.push(si(h,f,o)),s.push(si(c,h,o)),s.push(si(c,o,f)),s.push(si(c,f,h)),h=0;3>h;h++)ci(pi(s[h+1],0),pi(s[(h+1)%3+1],1)),ci(pi(s[h+1],2),pi(s[0],(3-h)%3));for(s=0;s<this.h.length;s++)(h=this.h[s])!==t&&h!==i&&h!==a&&h!==e&&hi(new ri(h),this.b)},t.l.hb=function(){for(var t=ni(this);null!==t;){var i=t.f,a=t;(t=a.c)[t.indexOf(i)]=t[t.length-1],t.pop(),t=[],ei(this,i.position,null,a,t);t:if(3>t.length)a=!1;else{for(a=0;a<t.length;a++){var n=t[a],e=a===t.length-1?t[0]:t[a+1];if(n.c.a!==(0===a?t[t.length-1]:t[a-1]).a||n.a!==e.c.a){a=!1;break t}}a=!0}a=[],e=n=null;for(let h=0;h<t.length;h++){var s=t[h];const o=si(i,s.c.a,s.a);a.push(o),ci(pi(o,2),s.c),s=o.a,null!==n?ci(s.b,n):e=s,n=s}for(ci(e.b,n),i=a,t=0;t<i.length;t++){a=i[t];do{n=ai(a,i)}while(n);this.b.push(a)}for(t=ii(this),a=0;a<t.length;a++)hi(t[a],i);t=ni(this)}},t.l.gb=function(){for(let t=0;t<this.b.length;t++)ai(this.b[t],[])&&(ii(this),t=0)},t.l.fb=function(){this.m=[],this.f=[],this.o=[],this.B=[],this.h=[];for(let a=0;a<this.b.length;a++){const e=this.b[a];let s=e.a;oi(this.m,e.s)||this.m.push(e.s);do{if(-1===this.o.indexOf(s)){this.o.push(s);const a=new i;n(a,s.a.position,s.c.a.position);var t=a;t.normalize(Number.EPSILON),t.normalize(Number.EPSILON),oi(this.B,a)||this.B.push(a),s.c.a.a.push(s)}t=s.a,-1===this.f.indexOf(t)&&(this.f.push(t),this.h.push(t.position)),s=s.b}while(s!==e.a)}};var rs=new v,fs=new i,cs=[hn,on,rn],ls=new i,us=new i,bs=new i,ps=new i,ds=new i,ys=0,ms=1,ws=[-0,-0],gs=[-0,-0];mi.prototype.I=function(t,i,a){this.c=i,this.f=a},mi.prototype.a=function(t,i){const a=this.c,n=this.f;let e=a[0].i(t),s=e;for(let i=1;i<n;i++){const n=a[i].i(t);n>e?e=n:n<s&&(s=n)}i[0]=s,i[1]=e},mi.prototype.b=function(){df(pf.la,this)},wi.prototype.I=function(t){this.c=t},wi.prototype.a=function(t,i){e(xs,t,-1),i[0]=-gi(this,xs),i[1]=gi(this,t)},wi.prototype.b=function(){df(pf.ba,this)};var xs=new i,zs=new i;xi.prototype.I=function(t,i,a){this.c=t,this.g.l(i),this.f.l(a)},xi.prototype.a=function(t,i){e(js,t,-1),i[0]=-zi(this,js),i[1]=zi(this,t)},xi.prototype.b=function(){df(pf.Aa,this)};var vs=new i,Ms=new i,js=new i;vi.prototype.I=function(t,i,a,n){this.f=t,this.a.l(i),this.s.l(a),this.b=n},Mi.prototype.I=function(t,i,a,n,e,s){this.f=t,this.j=i,this.h=a,this.a.l(n),this.s.l(e),this.b=s},ji.prototype.I=function(t,i,a,n){this.f=t,this.a=i,this.s.l(a),this.b=n};var Is=new i,Ps=new i,Cs=new i,As=new i,Ns=[new i,new i],Os=[new i,new i],Ss=new i,Ls=new i,Bs=new i,Es=new de,Ds=new de,ks=new i,Fs=new i;(Gi.prototype=Object.create(T.prototype)).ya=function(t){{var i=this.b,a=this.f;U(t);const n=4/3*Math.PI*i*i*i+Math.PI*i*i*2*a,e=Math.PI*i*i,s=e*(8/15*i*i*i+a*i*i*1.5+4/3*a*i*a+2/3*a*a*a);t.a.set(s,0,0,0,e*(8/15*i*i*i+a*i*i),0,0,0,s),t.c=n}},Gi.prototype.S=function(t,i){h(Ks,t),e(i,Ks,this.b),i.y+=Math.sign(t.y)*this.f},Gi.prototype.za=function(t,i){if(Gs.set(0,this.f,0),Hs.set(0,-this.f,0),X(Gs,Hs,t,Us),c(t,Us)<=this.b)return null;if(n(Js,i,t),i=Js.normalize(),1e-5>Math.abs(i))return null;t:{var a=this.b,s=Js,h=Gs,o=Hs;n(_s,o,h),n(Us,t,h),h=_s.i(_s);var r=_s.i(s);const i=_s.i(Us);var f=s.i(Us),l=Us.i(Us),u=h-r*r;if(0<=(l=(f=h*f-i*r)*f-u*(h*l-i*i-a*a*h))){if(0<(r=i+(u=(-f-Math.sqrt(l))/u)*r)&&r<h){a=u;break t}if(0>=r?Ts.l(Us):n(Ts,t,o),0<(l=(f=s.i(Ts))*f-(a=Ts.i(Ts)-a*a))){a=-f-Math.sqrt(l);break t}}a=-1}return 0>a||a>i?null:((i=Qa(pf.ka)).b=this,e(i.u,Js,a),i.u.add(t),i.a=a,i.s.x=i.u.x,i.s.z=i.u.z,i.s.y=i.u.y<-this.f?i.u.y+this.f:i.u.y>this.f?i.u.y-this.f:0,i.s.scale(1/this.b),i)};var Gs=new i,Hs=new i,Js=new i,_s=new i,Us=new i,Ts=new i,Ks=new i;(Hi.prototype=Object.create(T.prototype)).ya=function(t){{var i=this.b;U(t);const a=4/3*Math.PI*i*i*i;i=a*i*i*.4,t.a.set(i,0,0,0,i,0,0,0,i),t.c=a}},Hi.prototype.S=function(t,i){h(Vs,t),e(i,Vs,this.b)},Hi.prototype.za=function(t,i){if(n(Rs,i,t),i=Rs.normalize(),1e-5>Math.abs(i))return null;const a=t.i(Rs);var o=s(t)-this.b*this.b;if(Math.abs(a)<this.b||0<=a&&0<=o)return null;if(0>(o=a*a-o))return null;const r=Math.sqrt(o);return 0>(o=-a-r)&&(o=-a+r),o>i?null:((i=Qa(pf.ka)).b=this,e(i.u,Rs,o),i.u.add(t),i.a=o,h(i.s,i.u),i)};var Rs=new i,Vs=new i,qs=new i,Xs=new i,Ws=new i,Ys=new i,Zs=new i,$s=new i,Qs=new i,th=new i,ih=new i,ah=new i,nh=new i,eh=new i,sh=new i,hh=new i,oh=new i,rh=new i,fh=new i,ch=new i,lh=new i,uh=new i,bh=new i,ph=new i,dh=new i,yh=new i,mh=new i,wh=new i,gh=new i,xh=new i,zh=new i,vh=new i,Mh=new i,jh=new i,Ih=new i,Ph=new i,Ch=new i,Ah=new i,Nh=new i,Oh=new i,Sh=[],Lh=new i,Bh=new i,Eh=new i,Dh=new b,kh=new i,Fh=new i,Gh=new i,Hh=new i,Jh=new i,_h=new i,Uh=new i,Th=new i,Kh=new i,Rh=new i,Vh=new i,qh=new i,Xh=new Map,Wh=new i,Yh=[],Zh=[],$h=[],Qh=[],to=[],io=new de,ao=new i,no=new i,eo=new i,so=new i,ho=new i,oo=new i,ro=new i,fo=new i,co=new i,lo=new i,uo=new i,bo=new i,po=new i,yo=new i,mo=new i,wo=new i,go=new i,xo=new i,zo=new i,vo=new i,Mo=new i,jo=new i,Io=new i,Po=new i,Co=new i,Ao=new i,No=[],Oo=[],So=new i,Lo=new i,Bo=[],Eo=new i,Do=new i,ko=new i,Fo=new v,Go={16:function(t,i,s,h){var o=t.f+i.f;const r=t.position,f=i.position;n(Ys,f,r);const c=Ys.length(),l=t.b.b+i.b.b;c-o>=l||((o=Qa(pf.O)).j=t,o.m=i,s?o.h=!0:(1e-5>c?o.c.set(0,1,0):e(o.c,Ys,1/c),o.g=l-c,e(o.b,o.c,t.b.b),e(o.a,o.c,-i.b.b),a(o.f,o.b,o.a),o.f.add(r),o.f.add(f),o.f.scale(.5)),h.add(o))},17:function(t,i,e,s){var h=t.f+i.f;let o=t,r=i;16!==t.b.aa&&(o=i,r=t),qs.set(0,r.b.f,0),Xs.set(0,-r.b.f,0),w(r.transform,qs),w(r.transform,Xs),X(qs,Xs,o.position,Ws),t=c(Ws,o.position),(t=o.b.b+r.b.b-t)<=-h+Number.EPSILON||((h=Qa(pf.O)).j=o,h.m=r,e?h.h=!0:(h.g=t,n(h.c,Ws,o.position),e=h.c.length(),1e-5>Math.abs(e)?h.c.set(0,1,0):h.c.scale(1/e),h.b.l(h.c),h.b.scale(o.b.b),h.b.add(o.position),h.a.l(h.c),h.a.scale(-r.b.b),h.a.add(Ws),a(h.f,h.b,h.a),h.f.scale(.5),w(o.c,h.b),w(r.c,h.a)),s.add(h))},20:function(t,i,s,o){var r=t,f=i;if(16!==t.b.aa&&(r=i,f=t),t=f,Pe.I(r.position),ot(t,Pe,Zs,Ce))i=r.f+f.f,n(Qs,Zs,r.position),(t=h(th,Qs,Number.EPSILON))+Number.EPSILON>=r.b.b+i||((i=Qa(pf.O)).j=r,i.m=f,s?i.h=!0:(i.g=r.b.b-t,i.c.l(th),e(i.b,th,r.b.b),i.b.add(r.position),i.a.l(Zs),a(i.f,i.b,i.a),i.f.scale(.5),w(r.c,i.b),w(f.c,i.a)),o.add(i));else{if((t=Qa(pf.O)).j=r,t.m=f,s)t.h=!0;else{(s=Qa(pf.ba)).I(r),bf[pf.ba].push(s),(i=Qa(pf.ba)).I(f),bf[pf.ba].push(i);var c=Ka(f);if(0===(s=yi(s,i,c,c.length,$s)))throw Error("Center of the sphere is inside the complex hull, but SAT thinks that they do not overlap.");t.g=s,e(t.c,$s,-1),e(t.b,t.c,r.b.b),t.b.add(r.position),e(t.a,$s,s-r.b.b),t.a.add(r.position),a(t.f,t.b,t.a),t.f.scale(.5),w(r.c,t.b),w(f.c,t.a),tn()}o.add(t)}},1:function(t,i,a,s){var h=t.f+i.f;ih.set(0,t.b.f,0),ah.set(0,-t.b.f,0),w(t.transform,ih),w(t.transform,ah),nh.set(0,i.b.f,0),eh.set(0,-i.b.f,0),w(i.transform,nh),w(i.transform,eh);var o=Math.sqrt(Y(ih,ah,nh,eh,sh,hh)),r=t.b.b+i.b.b;o>r+h||((h=Qa(pf.O)).j=t,h.m=i,a?(h.h=!0,s.add(h)):(1e-5>o?h.c.set(0,1,0):(n(h.c,hh,sh),h.c.normalize()),h.g=r-o,n(oh,ah,ih),oh.normalize(),n(rh,eh,nh),rh.normalize(),a=oh,(a=.99999<(a=Math.abs(a.i(rh)))&&1.00001>a)?(a=$(ih,fh),o=-$(ah,ch),0>a||0>o?(Ji(h,sh,hh),s.add(h)):((r=Qa(pf.O)).j=t,r.m=i,r.c.l(h.c),r.g=h.g,0===a?Ji(h,ih,fh):(e(sh,oh,a),sh.add(ih),Ji(h,sh,fh)),0===o?Ji(r,ah,ch):(e(sh,oh,-o),sh.add(ah),Ji(r,sh,ch)),s.add(h),s.add(r))):(Ji(h,sh,hh),s.add(h))))},5:function(t,i,a,s){var h=t,r=i;if(1!==t.b.aa&&(h=i,r=t),Kh.set(0,h.b.f,0),Rh.set(0,-h.b.f,0),w(h.transform,Kh),w(h.transform,Rh),t=r,Ae.I(Kh,Rh),ot(t,Ae,Vh,qh)){if(t=r,i=h.f+t.f,X(Kh,Rh,Vh,Bh),n(Eh,Vh,Bh),r=Eh.normalize(Number.EPSILON),!((r=h.b.b-r)<=-i+Number.EPSILON))if((i=Qa(pf.O)).j=h,i.m=t,a)i.h=!0,s.add(i);else if(i.g=r,i.c.l(Eh),n(Th,Rh,Kh),Th.normalize(),a=Th.i(Eh),.01<Math.abs(a))_i(i,Bh,Vh),s.add(i);else{{var f=(a=t.j).x,c=a.y,u=a.z;const i=a.w;0==(f=f*f+c*c+u*u+i*i)?Dh.x=Dh.y=Dh.z=Dh.w=0:(f=-1/f,Dh.x=a.x*f,Dh.y=a.y*f,Dh.z=a.z*f,Dh.w=a.w*-f)}for(Dh.A(Eh,kh),kh.scale(-1),a=null,f=Vt(t.b),c=0;c<f.length;c++)if(u=f[c],l(u.s,kh,.01)){a=u;break}null===a?(_i(i,Bh,Vh),s.add(i)):(t.c.A(Kh,Fh),t.c.A(Rh,Gh),a=Ui(Fh,Gh,a,Hh,Jh),t.transform.A(Hh,_h),t.transform.A(Jh,Uh),a?((a=Qa(pf.O)).j=h,a.m=t,a.c.l(i.c),a.g=i.g,e(i.a,Eh,h.b.b-r),i.a.add(_h),e(a.a,Eh,h.b.b-r),a.a.add(Uh),_i(i,_h,i.a),_i(a,Uh,a.a),s.add(i),s.add(a)):(_i(i,Bh,Vh),s.add(i)))}}else if(t=h,h=r,a)(r=Qa(pf.O)).j=t,r.m=h,r.h=!0,s.add(r);else{for(n(Oh,Kh,Rh),Oh.normalize(),a=Ka(h),r=qt(h.b).length,i=Xt(h.b),Ni(Sh,r+i.length),f=0;f<a.length;f++)Sh[f].l(a[f]);for(a=0;a<i.length;a++)f=Sh[r],h.j.A(i[a],f),o(f,Oh),f.normalize(),f.W()||r++;if((i=Qa(pf.ba)).I(t),bf[pf.ba].push(i),a=Ta(h),0===(r=yi(i,a,Sh,r,Nh)))throw Error("Inner segment of the capsule overlaps convex hull, but SAT does not think so.");if(g(h.c,Nh,Lh),null!==(c=Bi(Lh,h)))n(vh,Kh,Rh),vh.normalize(),i=Kh.i(Nh)<Rh.i(Nh)?Kh:Rh,a=Qa(pf.O),f=Qa(pf.O),a.j=f.j=t,a.m=f.m=h,a.g=f.g=r,e(a.c,Nh,-1),e(f.c,Nh,-1),e(a.a,a.c,-(r-t.b.b)),f.a.l(a.a),t=vh.i(a.c),.01<Math.abs(t)?(a.a.add(i),_i(a,i,a.a),f.B(),s.add(a)):(h.c.A(Kh,Mh),h.c.A(Rh,jh),t=Ui(Mh,jh,c,Ih,Ph),h.transform.A(Ih,Ch),h.transform.A(Ph,Ah),t?(a.a.add(Ch),f.a.add(Ah),_i(a,Ch,a.a),_i(f,Ah,f.a),s.add(a),s.add(f)):(a.a.add(i),_i(a,i,a.a),f.B(),s.add(a)));else{if(g(h.c,Nh,Lh),null===(i=Zt(h.b,Lh)))throw Error("Deep contact: cannot find reference face nor reference edge");if(h.transform.A(i.c.a.position,yh),h.transform.A(i.a.position,mh),e(wh,Nh,-(r-t.b.b)),gh.l(wh),wh.add(yh),gh.add(mh),!tt(Kh,Rh,wh,gh,xh))throw Error("Cannot find an intersection between shifted edge and inner segment");(i=Qa(pf.O)).j=t,i.m=h,e(i.c,Nh,-1),i.g=r,e(zh,Nh,r-t.b.b),zh.add(xh),_i(i,xh,zh),s.add(i)}tn()}},4:function(t,n,s,h){var o,r=t.f+n.f,f=Xt(t.b).length,c=Xt(n.b).length,l=qt(t.b).length,u=qt(n.b).length,b=Ta(t),p=Ta(n),d=t.g.a&n.g.a&65536&&Xh.get(t.b.c+(n.b.c<<16))||null;if((o=null===d)||(b.a(d,ws),p.a(d,gs),o=!(Math.max(0,Math.min(ws[1],gs[1])-Math.max(ws[0],gs[0]))<=Number.EPSILON)),o)if(d=Ka(t),0===(l=yi(p,b,d,l,fo,r)))Ti(t,n,fo);else if(d=Ka(n),0===(d=yi(b,p,d,u,co,r)))Ti(t,n,co);else{if(u=0,1024>f*c&&0===(u=Ki(t,n,b,p,lo,r)))return void Ti(t,n,lo);if(s)(r=Qa(pf.O)).j=t,r.m=n,r.h=!0,h.add(r);else if(0===u||Math.abs(l)-1e-5<Math.abs(u)||Math.abs(d)-1e-5<Math.abs(u)){if(c=t,f=n,s=fo,l>=d+1e-5&&(c=n,f=t,s=co),g(c.c,s,bo),null===(p=Bi(bo,c)))throw Error("Cannot find reference face");g(f.c,s,bo),b=Ei(bo,f),t=c,n=f,f=p,c=b,t.j.A(f.s,Wh),b=0,p=f.a;do{Yh.length===b&&Yh.push(new i),t.transform.A(p.a.position,Yh[b]),b++,p=p.b}while(p!==f.a);l=0,p=c.a;do{Zh.length===l&&Zh.push(new i),n.transform.A(p.a.position,Zh[l]),l++,p=p.b}while(p!==c.a);if(0!==(c=Oi(Zh,l,Yh,b,Wh)).length)for(t.transform.A(f.b,ro),f=ro.i(s),b=0;b<c.length;b++)(l=(p=c[b]).i(s)-f)>=r||(l=-l,(u=Qa(pf.O)).j=t,u.m=n,u.g=l,u.c.l(s),e(u.b,s,l),u.b.add(p),u.a.l(p),a(u.f,u.b,u.a),u.f.scale(.5),w(u.j.c,u.b),w(u.m.c,u.a),h.add(u));tn()}else g(t.c,lo,uo),uo.scale(-1),r=Zt(t.b,uo),g(n.c,lo,uo),s=Zt(n.b,uo),f=u,t.transform.A(r.a.position,ao),t.transform.A(r.c.a.position,no),n.transform.A(s.a.position,eo),n.transform.A(s.c.a.position,so),e(ho,lo,f),ao.add(ho),no.add(ho),tt(ao,no,eo,so,oo)?((r=Qa(pf.O)).j=t,r.m=n,r.g=f,e(r.c,lo,-1),e(r.b,ho,-1),r.b.add(oo),r.a.l(oo),a(r.f,r.b,r.a),r.f.scale(.5),w(r.j.c,r.b),w(r.m.c,r.a),tn(),h.add(r)):tn()}},24:function(t,i,a,n){Zi(t,i,Ri,a,n)},9:function(t,i,a,n){Zi(t,i,Vi,a,n)},12:function(t,i,a,n){Zi(t,i,Xi,a,n)},8:function(t,i,a,n){Zi(t,i,Ci,a,n)}};$i.prototype.c=function(t,i,a){if(P(t.h,i.h,t.f+i.f)){var n=ns[(7&t.a)+(t.b.L?16:8)][(7&i.a)+(i.b.L?16:8)];if(0!==n&&!pa(t.b,i.b)){n=1===n;var e=Go[t.b.aa|i.b.aa],s=e;if(e=a.length,s(t,i,n,a),e!==(t=a.length))for(i=e;i<t;i++)(n=a.buffer[i]).J=n.j.b,n.C=n.m.b,e=n.j,w(e.m.transform,n.b),n.b.T(e.g.qa()),n.v=e.g,n.j=null,e=n.m,w(e.m.transform,n.a),n.a.T(e.g.qa()),n.F=e.g,n.m=null,n.v.id<n.F.id||qa(n),n.h||(e=n.J,s=n.C,n.$=null===e.a&&null===s.a?0:null===e.a?Ai(0,s.a.a,0,s.a.b):null===s.a?Ai(e.a.a,0,e.a.b,0):Ai(e.a.a,s.a.a,e.a.b,s.a.b),e=n.J,s=n.C,n.V=null===e.a&&null===s.a?.6:null===e.a?Ai(0,s.a.f,.6,s.a.c):null===s.a?Ai(e.a.f,0,e.a.c,.6):Ai(e.a.f,s.a.f,e.a.c,s.a.c))}}},$i.prototype.f=function(t,i){var s=t.c;t=t.f;for(var h=0;h<this.a.b;h++){var o=this.a.a[h];if(o.g&=-2,o.c.a&o.f.a&65536){for(var r=!!(o.c.a&o.f.a&512),f=0;f<o.b.length;f++){var l=o.b.buffer[f];l.R.clear(),l.o&=~(sf|hf|of),l.o|=r?hf:of}if(!r)for(r=0;r<o.a.length;r++){l=(f=o.a[r]).v;var u=f.F,b=f.J,p=f.C;b.j&&p.j?b.L||p.L||pa(b,p)||tr.j[b.X]&1<<p.X?(Et(o,r),r--):(ja(l).A(f.b,$e),ja(u).A(f.a,Qe),a(f.f,$e,Qe),f.f.scale(.5),n(ts,$e,Qe),f.g=ts.i(f.c),-5e-4>f.g?(Et(o,r),r--):(e(ts,f.c,Math.abs(f.g)),n(ts,$e,ts),n(ts,Qe,ts),5e-4<(l=ts.length())/Math.abs(f.g)&&5e-4<l?(Et(o,r),r--):Gt(o,f))):(Et(o,r),r--)}}else Dt(o)}for(o=0;o<t.length;o++){for(r=(h=t.buffer[o]).pop(),f=[],l=0;l<h.length;l++)for(u=ka(h[l]),b=0;b<u.length;b++)(p=u.buffer[b]).b.L||f.push(p);0!==f.length&&It(r,f,i)}for(this.b.clear(),i=0;i<s.length;i+=2)32&((t=s.buffer[i]).a|t.a)||Qi(this,t,s.buffer[i+1],this.b);for(s=0;s<this.b.length;s++)if(t=this.b.buffer[s],o=this.a,h=t.v,r=t.F,(i=o.cache.get(_t(h,r)))||((i=Qa(pf.Da)).c=h,i.f=r,(h=i).h=_t(h.c,h.f),o.cache.set(h.h,h),o.a.length>o.b?o.a[o.b]=h:o.a.push(h),o.b++),i.g|=1,Gt(i,t),t.h)t.B();else if(4>i.a.length)i.a.push(t);else{r=i,o=-1,l=(f=t).g,u=1/0,h=-1,b=r.a[0].g,p=!0;for(var d=0;4>d;d++){var y=r.a[d];if(y.g+1e-5>l&&(l=y.g,o=d),f.g>y.g+1e-5){var m=f.g-y.g;const t=c(f.f,y.f);t<m+1e-5&&t<u&&(u=t,h=d)}p&&1e-5<Math.abs(y.g-b)&&(p=!1)}p&&-1!==o&&(o=-2),y=!1,1e-5>(l=kt(r.a[0],r.a[1],r.a[2],r.a[3]))&&(y=!0,l=Ft(r.a[0],r.a[1],r.a[2],r.a[3])),m=kt(f,r.a[1],r.a[2],r.a[3]),y&&1e-5<m&&(l=0,o=-1),p=b=u=d=0,0!==o&&(d=y?Ft(f,r.a[1],r.a[2],r.a[3]):m),1!==o&&(u=y?Ft(f,r.a[0],r.a[2],r.a[3]):kt(f,r.a[0],r.a[2],r.a[3])),2!==o&&(b=y?Ft(f,r.a[0],r.a[1],r.a[3]):kt(f,r.a[0],r.a[1],r.a[3])),3!==o&&(p=y?Ft(f,r.a[0],r.a[1],r.a[2]):kt(f,r.a[0],r.a[1],r.a[2])),r=0,u>(f=d)&&(r=1,f=u),b>f&&(r=2,f=b),p>f&&(r=3,f=p),-1===(o=-1===o?r:1e-5>Math.abs(l-f)&&-1!==h?h:f>l+1e-5?r:-1)?t.B():(i.a[o].B(),i.a[o]=t)}for(s=0;s<this.a.b;s++)if(0===(i=this.a.a[s]).a.length&&0===i.b.length&&(Jt(this.a,s),s--),!(1&i.g)){for(t=!0,o=0;o<i.a.length;o++)if(0<i.a[o].g){t=!1;break}if(!t){for(;i.a.length;)i.a.pop().B();for(t=0;t<i.b.length;t++)i.b.buffer[t].o|=of}}},t.l=ta.prototype,t.l.Ya=function(){const t=rf,i=this.b,a=i+11;for(let i=0;12>i;i++)t[a+i]=0;t[i+2]=0,t[i+7]=0,t[i+8]=0,t[i+9]=0,t[i]=0,t[i+5]=0,t[i+3]=-1/0,t[i+4]=1/0,t[i+6]=0,t[i+10]=0,this.g=null,this.f=this.c=this.a=0},t.l.$b=function(t){this.a=t?1|this.a:-2&this.a},t.l.na=function(t,i,a,n,e,s){const h=rf,o=this.b+11;h[o]=t,h[o+1]=i,h[o+2]=a,h[o+3]=n,h[o+4]=e,h[o+5]=s},t.l.Sb=function(){return rf[this.b+7]},t.l.lc=function(t){rf[this.b+7]=t},t.l.pc=function(t){rf[this.b+5]=t},t.l.tc=function(t){rf[this.b+3]=t},t.l.uc=function(t){rf[this.b+4]=t},t.l.oa=function(t,i,a,n,e,s){const h=rf,o=this.b+11;h[o+6]=t,h[o+7]=i,h[o+8]=a,h[o+9]=n,h[o+10]=e,h[o+11]=s},t.l.ub=function(){ia(this,6,12)},t.l.jc=function(){ia(this,0,6)},t.l.ub=function(){ia(this,6,12)},t.l.dc=function(){rf[this.b+9]=0},t.l.jb=function(t){const i=rf;var a=this.b;const n=a+11;if(a+=23,2&this.a){var e=t.B;i[a]=e*i[n],i[a+1]=e*i[n+1],i[a+2]=e*i[n+2],Ho.x=i[n+3],Ho.y=i[n+4],Ho.z=i[n+5],B(t.a.ca(),Ho),i[a+3]=Ho.x/t.g,i[a+4]=Ho.y/t.g,i[a+5]=Ho.z/t.g}else i[a]=i[a+1]=i[a+2]=0,i[a+3]=i[a+4]=i[a+5]=0;4&this.a?(e=t.C,i[a+6]=e*i[n+6],i[a+7]=e*i[n+7],i[a+8]=e*i[n+8],Ho.x=i[n+9],Ho.y=i[n+10],Ho.z=i[n+11],B(t.b.ca(),Ho),i[a+9]=Ho.x/t.h,i[a+10]=Ho.y/t.h,i[a+11]=Ho.z/t.h):(i[a+6]=i[a+7]=i[a+8]=0,i[a+9]=i[a+10]=i[a+11]=0)},t.l.kb=function(t){const i=rf,a=this.b,n=a+11,e=a+23;i[a+2]=1/(i[n]*i[e]+i[n+1]*i[e+1]+i[n+2]*i[e+2]+i[n+3]*i[e+3]+i[n+4]*i[e+4]+i[n+5]*i[e+5]+i[n+6]*i[e+6]+i[n+7]*i[e+7]+i[n+8]*i[e+8]+i[n+9]*i[e+9]+i[n+10]*i[e+10]+i[n+11]*i[e+11]+i[a+5]/t)},t.l.lb=function(t,i){if(2&this.a){var a=t.B,n=t.a,e=n.g,s=n.f;n=n.o,_o[0]=e.x+a*n.x,_o[1]=e.y+a*n.y,_o[2]=e.z+a*n.z,Jo.l(t.a.m),B(t.a.ca(),Jo),_o[3]=s.x+Jo.x/t.g,_o[4]=s.y+Jo.y/t.g,_o[5]=s.z+Jo.z/t.g}else _o[0]=0,_o[1]=0,_o[2]=0,_o[3]=0,_o[4]=0,_o[5]=0;4&this.a?(a=t.C,e=(n=t.b).g,s=n.f,n=n.o,_o[6]=e.x+a*n.x,_o[7]=e.y+a*n.y,_o[8]=e.z+a*n.z,Jo.l(t.b.m),B(t.b.ca(),Jo),_o[9]=s.x+Jo.x/t.h,_o[10]=s.y+Jo.y/t.h,_o[11]=s.z+Jo.z/t.h):(_o[6]=0,_o[7]=0,_o[8]=0,_o[9]=0,_o[10]=0,_o[11]=0),e=(t=rf)[e=(a=this.b)+11]*_o[0]+t[e+1]*_o[1]+t[e+2]*_o[2]+t[e+3]*_o[3]+t[e+4]*_o[4]+t[e+5]*_o[5]+t[e+6]*_o[6]+t[e+7]*_o[7]+t[e+8]*_o[8]+t[e+9]*_o[9]+t[e+10]*_o[10]+t[e+11]*_o[11],i=((s=t[a+7])-e-t[a+5]*t[a+9])/i,1&this.a&&0<s?(e=z(s/(s-e),0,1),t[a+10]=e):t[a+10]=0,t[a]=i},t.l.qb=function(t){const i=rf,a=this.b+11;if(2&this.a){const n=t.a;n.c&&(i[a]*=1&n.c?0:1,i[a+1]*=2&n.c?0:1,i[a+2]*=4&n.c?0:1),64&n.a?(i[a+3]=0,i[a+4]=0,i[a+5]=0):n.h&&(Uo.set(i[a+3],i[a+4],i[a+5]),Ia(n).U(Uo),Uo.x*=1&n.h?0:1,Uo.y*=2&n.h?0:1,Uo.z*=4&n.h?0:1,ja(n).U(Uo),i[a+3]=Uo.x,i[a+4]=Uo.y,i[a+5]=Uo.z)}4&this.a&&((t=t.b).c&&(i[a+6]*=1&t.c?0:1,i[a+7]*=2&t.c?0:1,i[a+8]*=4&t.c?0:1),64&t.a?(i[a+9]=0,i[a+10]=0,i[a+11]=0):t.h&&(Uo.set(i[a+9],i[a+10],i[a+11]),Ia(t).U(Uo),Uo.x*=1&t.h?0:1,Uo.y*=2&t.h?0:1,Uo.z*=4&t.h?0:1,ja(t).U(Uo),i[a+9]=Uo.x,i[a+10]=Uo.y,i[a+11]=Uo.z))},t.l.mb=function(t){const i=rf;this.g=t,this.a=t.j?2|this.a:-3&this.a,this.a=t.m?4|this.a:-5&this.a,this.c=t.a.Ia,this.f=t.b?t.b.Ia:0,i[this.b+1]=t.J};var Ho=new i,Jo=new i,_o=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],Uo=new i;t.l=aa.prototype,t.l.Na=function(){this.active=!0,ea(this),sa(this)},t.l.ma=function(){if(this.active=!1,ea(this),this.v){var t=this.a,i=this.b;t&&i&&da(t,i,!1)}},t.l.ib=function(){return!0},t.l.mc=function(t){if(this.a!==t){var i=this.a;if(this.a=t,i&&i.N(!0),t&&t.N(!0),sa(this),i&&this.b&&da(i,this.b,!1),this.f){var a=this.f;i&&st(a.c.buffer[i.id],this),t&&ca(a,this,t)}}},t.l.oc=function(t){if(this.b!==t){var i=this.b;if(this.b=t,i&&i.N(!0),t&&t.N(!0),sa(this),i&&this.a&&da(i,this.a,!1),this.f){var a=this.f;i&&st(a.c.buffer[i.id],this),t&&ca(a,this,t)}}},t.l.qc=function(t){this.v!==t&&(this.v=t,sa(this),ea(this))},aa.prototype.update=function(){throw Error("Not implemented")},aa.prototype.R=function(){this.j=!!(1&this.a.a)&&1/0!==this.a.B,this.m=null!==this.b&&!!(1&this.b.a)&&1/0!==this.b.B;let t=0;if(this.j){var i=this.a.B*this.g;this.B=1/i,t+=i}this.m&&(i=this.b.B*this.h,this.C=1/i,t+=i),this.J=1/t},(ha.prototype=Object.create(aa.prototype)).ib=function(){var t=this.j,i=this.m;const a=this.K.c;return this.j&&this.a.c&&(t=!(1&(t=this.a.c)&&!(.99999>Math.abs(a.x))||2&t&&!(.99999>Math.abs(a.y))||4&t&&!(.99999>Math.abs(a.z)))),this.m&&this.b.c&&(i=!(1&(i=this.b.c)&&!(.99999>Math.abs(a.x))||2&i&&!(.99999>Math.abs(a.y))||4&i&&!(.99999>Math.abs(a.z)))),t||i},ha.prototype.ma=function(){aa.prototype.ma.call(this),null!==this.f&&la(this.f,this)},ha.prototype.update=function(t){const i=rf,a=this.c[0],n=a.b;var e=this.K;const s=e.c,h=this.a,r=this.b;this.j?(ja(h).A(e.b,To),To.T(h.Y()),o(To,s),a.na(-s.x,-s.y,-s.z,-To.x,-To.y,-To.z)):a.na(0,0,0,0,0,0),this.m?(ja(r).A(e.a,To),To.T(r.Y()),o(To,s),a.oa(s.x,s.y,s.z,To.x,To.y,To.z)):a.oa(0,0,0,0,0,0);var f=e.$;const c=e.g,l=0>c;let u=0;this.j&&(0<f||l)&&(h.Qa(e.b,To),u+=To.i(s)),this.m&&(0<f||l)&&(r.Qa(e.a,To),u-=To.i(s)),e=0<f&&u>tr.m,l?(e?i[n+7]=u*f:(-.05>(f=c/t)&&(f*=.8),i[n+7]=f),a.a&=-2):(t=15*c,e?(i[n+7]=Math.max(u*f,t),a.a&=-2):(i[n+7]=t,a.a|=1))};var To=new i;(oa.prototype=Object.create(aa.prototype)).ma=function(){aa.prototype.ma.call(this),null!==this.f&&la(this.f,this)},oa.prototype.update=function(){var t=this.c[0];const i=this.c[1],a=rf,n=t.b,e=i.b,s=this.K;var h=this.a,o=this.b;ja(h).A(s.b,Ko),Ko.T(h.Y()),ja(o).A(s.a,Ro),Ro.T(o.Y()),h=s.c,o=Vo;var f=qo;if(.7071067811865476<Math.abs(h.z)){var c=-h.y*h.y+h.z*h.z,l=1/Math.sqrt(c);o.set(0,-h.z*l,h.y*l),f.set(c*l,-h.x*o.z,h.x*o.y)}else c=h.x*h.x+h.y*h.y,l=1/Math.sqrt(c),o.set(-h.y*l,h.x*l,0),f.set(-h.z*o.y,h.z*o.x,c*l);this.j?(r(Xo,Ko,Vo),t.na(-Vo.x,-Vo.y,-Vo.z,-Xo.x,-Xo.y,-Xo.z),r(Xo,Ko,qo),i.na(-qo.x,-qo.y,-qo.z,-Xo.x,-Xo.y,-Xo.z)):(t.na(0,0,0,0,0,0),i.na(0,0,0,0,0,0)),this.m?(r(Xo,Ro,Vo),t.oa(Vo.x,Vo.y,Vo.z,Xo.x,Xo.y,Xo.z),r(Xo,Ro,qo),i.oa(qo.x,qo.y,qo.z,Xo.x,Xo.y,Xo.z)):(t.oa(0,0,0,0,0,0),i.oa(0,0,0,0,0,0)),t=2*s.V,a[n+6]=t,a[e+6]=t,t=4/this.P*19.6/this.J,a[n+3]=-t,a[e+3]=-t,a[n+7]=0,a[e+7]=0};var Ko=new i,Ro=new i,Vo=new i,qo=new i,Xo=new i;t.l=ra.prototype,t.l.tb=function(t){for(let s=0;s<t.b;s++){const h=t.a[s];for(let t=0;t<h.a.length;t++){const s=h.a[t];var i=null===s.K,a=0<s.V&&null===s.P&&-.01<s.g;if(!i&&a&&(la(this,s.K),fa(this,s.K)),i){var n=Qa(pf.Ca);{var e=s;na(i=n),i.a=e.v,i.b=e.F,i.K=e,e=rf;const t=i.c[0].b;e[t+3]=0,e[t+4]=1/0,aa.prototype.Na.call(i)}fa(this,n),s.K=n}a&&(a=n=Qa(pf.Ea),i=s,na(a),a.a=i.v,a.b=i.F,a.K=i,aa.prototype.Na.call(a),fa(this,n),s.P=n),s.P&&(s.P.P=h.a.length)}}},t.l.rb=function(t,i){this.b.clear(),this.a.clear(),this.a.add(0);for(let e=0;e<t.length;e++){var a=t[e];if(1&a.a&&!(128&a.a)&&(Wo.clear(),Yo.clear(),Wo.add(a),this.Pa(a,Wo,Yo,!0),0!==Yo.length)){a=!0;for(var n=0;n<Wo.length;n++){const t=Wo.buffer[n];1&t.a||(t.a&=-129),512&t.a||(a=!1)}if(!a){for(a=0;a<Wo.length;a++)1&(n=Wo.buffer[a]).a&&n.N();for(a=this.b.length,n=0;n<Yo.length;n++)this.sb(Yo.buffer[n],i);a!==(n=this.b.length)&&this.a.add(n)}}}1===this.a.length&&this.a.clear()},t.l.Pa=function(t,i,a,n){if(t.a|=128,t.a|=256,!(this.c.buffer.length<=t.id)){var e=this.c.buffer[t.id];if(e&&0!==e.length){var s=i.length;for(let n=0;n<e.length;n++){const s=e.buffer[n];if(!s.active)continue;const h=s.a===t?s.b:s.a;h?256&h.a||(128&h.a||(i.add(h),h.a|=128),a.add(s)):a.add(s)}if(n)for(t=s;t<i.length;t++)1&(n=i.buffer[t]).a&&!(256&n.a)&&this.Pa(n,i,a,!1)}}},t.l.sb=function(t,i){if(t.o=0,t.R(),t.ib()){t.update(i);var a=rf;for(let n=0;n<t.c.length;n++){const e=t.c[n],s=e.b;a[s+8]=0,e.mb(t),e.qb(t),e.jb(t),e.kb(i),e.lb(t,i),a[s+2]<1/1e-5&&this.b.add(e)}}},t.l.wb=function(t){if(0!==this.a.length)for(let i=0;i<this.a.length-1;i++)this.xb(t,this.a.buffer[i],this.a.buffer[i+1])},t.l.xb=function(t,i,a){const n=rf;t=1/t;const e=this.b.buffer;for(var s=i;s<a;s++){var h=e[s],o=h.b,r=n[o+9];if(n[o+8]=r,0!==r){var f=h.c,c=h.f;o+=23,2&(h=h.a)&&(n[f]+=r*n[o],n[f+1]+=r*n[o+1],n[f+2]+=r*n[o+2],n[f+3]+=r*n[o+3],n[f+4]+=r*n[o+4],n[f+5]+=r*n[o+5]),4&h&&(n[c]+=r*n[o+6],n[c+1]+=r*n[o+7],n[c+2]+=r*n[o+8],n[c+3]+=r*n[o+9],n[c+4]+=r*n[o+10],n[c+5]+=r*n[o+11])}}for(s=0;s<this.f;s++){for(r=0,f=-0,c=i;c<a;c++){var l=e[c];h=!!(2&(o=l.a)),o=!!(4&o);const i=l.c,a=l.f;var u=(l=l.b)+11;const s=l+23;var b=n[l];const d=n[l+1];var p=n[l+2];const y=n[l+6];let m=n[l+3],w=n[l+4];0!==y&&(m=Math.max(m,-f*y),w=-m);const g=n[l+5];let x=-0;h&&(x+=n[u]*n[i]+n[u+1]*n[i+1]+n[u+2]*n[i+2]+n[u+3]*n[i+3]+n[u+4]*n[i+4]+n[u+5]*n[i+5]),o&&(x+=n[u+6]*n[a]+n[u+7]*n[a+1]+n[u+8]*n[a+2]+n[u+9]*n[a+3]+n[u+10]*n[a+4]+n[u+11]*n[a+5]),u=n[l+8],b=z(.99*(b-x)*p+u,m,w),n[l+8]=b,p=b-u,r=Math.max(r,Math.abs(p)*d),g&&(n[l]-=g*p*t),0===y&&(f=b),h&&(n[i]+=p*n[s],n[i+1]+=p*n[s+1],n[i+2]+=p*n[s+2],n[i+3]+=p*n[s+3],n[i+4]+=p*n[s+4],n[i+5]+=p*n[s+5]),o&&(n[a]+=p*n[s+6],n[a+1]+=p*n[s+7],n[a+2]+=p*n[s+8],n[a+3]+=p*n[s+9],n[a+4]+=p*n[s+10],n[a+5]+=p*n[s+11])}if(1e-4>=r)break}},t.l.Za=function(t){const i=this.b.buffer,a=this.b.length,n=rf;for(let f=0;f<a;f++){var s=i[f];const a=s.g;var h=s.b;const c=h+11,l=n[h+10];var o=n[h+8];if(n[h+9]=o*(1-l),2&(s=s.a)){var r=(h=a.B)*o*t;const i=o*t,s=a.a;Zo.x=r*n[c],Zo.y=r*n[c+1],Zo.z=r*n[c+2],s.g.add(Zo),0!==l&&(e($o,Zo,l),s.M.add($o)),Zo.scale(1/(h*t)),a.o+=Zo.length(),$o.x=i*n[c+3],$o.y=i*n[c+4],$o.z=i*n[c+5],s.ca().A($o,Qo),Qo.scale(1/a.g),s.f.add(Qo),0!==l&&(Qo.scale(l),s.K.add(Qo))}4&s&&(h=(s=a.C)*o*t,o*=t,r=a.b,Zo.x=h*n[c+6],Zo.y=h*n[c+7],Zo.z=h*n[c+8],r.g.add(Zo),0!==l&&(e($o,Zo,l),r.M.add($o)),Zo.scale(1/(s*t)),a.o+=Zo.length(),$o.x=o*n[c+9],$o.y=o*n[c+10],$o.z=o*n[c+11],r.ca().A($o,Qo),Qo.scale(1/a.h),r.f.add(Qo),0!==l&&(Qo.scale(l),r.K.add(Qo))),a.F!==Number.POSITIVE_INFINITY&&a.o>a.F&&(a.active=!1)}};var Wo=new de,Yo=new de,Zo=new i,$o=new i,Qo=new i;ua.prototype.a=function(t){for(let i=0;i<t.b;i++){const a=t.a[i];for(let t=0;t<a.b.length;t++){const i=a.b.buffer[t];if(i.o&sf)i.h?this.g(i):this.b(i);else if(i.o&hf)i.h?this.j(i):this.f(i);else if(i.o&of){if(i.J.j&&i.C.j&&(i.h?this.h(i):this.c(i)),0===a.b.length)break;i.B(),et(a.b,t),t--}}}};var tr=null;t.l=ba.prototype,t.l.Gb=function(t){const i=this.f;for(var a=0;a<i.length;a++){var n=i[a],s=!!(1&n.a)&&1/0!==n.B;16&n.a&&s&&(e(yr,this.v,n.B*t),n.o.add(yr)),(s=n).c&&(s.o.x*=1&s.c?0:1,s.o.y*=2&s.c?0:1,s.o.z*=4&s.c?0:1),n.h&&(Ia(n).U(n.m),n.m.x*=1&n.h?0:1,n.m.y*=2&n.h?0:1,n.m.z*=4&n.h?0:1,ja(n).U(n.m))}this.a.g(t),this.b.f(this.a,t),this.c.tb(this.b.a),this.c.rb(this.a.b,t),this.c.wb(t),this.c.Za(t),a=this.b;for(let i=0;i<a.a.b;i++){n=a.a.a[i],s=t;for(let t=0;t<n.b.length;t++){var h=n.b.buffer[t],o=s;if(h.M=0,!h.h){for(let t=0;t<h.R.length;t++){const i=h.R.buffer[t].K;null!==i&&(h.M+=i.o)}h.M*=o,h.v.a&h.F.a&1&&(h.M/=2)}}}for(a=0;a<i.length;a++)n=i[a],Mt(n)||Na(n,t);Pt(i,t)},t.l.Rb=function(){this.o.a(this.b.a)},t.l.Mb=function(t){if(65536&t.a)throw Error("The body already belongs to a physics world!");t.a|=65536,t.da(),this.f.push(t);{var i=this.a;i.b.push(t);const a=Qa(pf.Fa);a.I(t),i.a.push(a)}},t.l.hc=function(t){for(var i=0;i<this.f.length;i++)if(this.f[i]===t){this.f.splice(i,1),i=this.a;for(var a=t,n=0;n<i.b.length;n++)if(i.b[n]===a){i.b[n]=i.b[i.b.length-1],i.b.pop();break}for(n=0;n<i.a.length;n++)if(i.a[n].body===a){df(pf.Fa,i.a[n]),i.a[n]=i.a[i.a.length-1],i.a.pop();break}break}for(t.a&=-65537,i=this.b,a=0;a<i.a.b;a++)((n=i.a.a[a]).c===t||n.f===t)&&(Jt(i.a,a),a--)},t.l.Eb=function(t){fa(this.c,t)},t.l.Fb=function(t){la(this.c,t)},t.l.wc=function(t,i,a,n){return pc.markPhysics3dModuleAsUsed(),0!==(t=this.Va(t,i,1,a,n)).length&&(t[0].c(),!0)},t.l.ec=function(t,i,a,n){if(0===(t=this.Va(t,i,Number.MAX_SAFE_INTEGER,a,n)).length)return null;for(i=t[0],a=1;a<t.length;a++)(n=t[a]).a<i.a?(i.c(),i=n):n.c();return i},t.l.Va=function(t,i,a,n,e){pc.markPhysics3dModuleAsUsed(),ir.set(t.x,t.y,t.z),ar.set(i.x,i.y,i.z);{t=this.a,i=ir;var s=ar;const h=[];for(let o=0;o<t.b.length;o++){const r=t.b[o];if(0!=(r.b.f&n)&&C(Ma(r),i,s)&&(r.bb(i,s,a,n,e,h),h.length>=a))break}for(;h.length>a;)h.pop().c();a=h}return a},t.l.vc=function(t,i,a,n,e,s){if(pc.markPhysics3dModuleAsUsed(),0===(t=this.vb(t,i,a,n,Number.MAX_SAFE_INTEGER,e,s)).length)return null;for(i=t[0],a=1;a<t.length;a++)(n=t[a]).a<i.a?(i.c(),i=n):n.c();return i},t.l.vb=function(t,i,a,s,h,o,r){pc.markPhysics3dModuleAsUsed(),rr.set(i.x,i.y,i.z,i.w),fr.set(a.x,a.y,a.z),cr.set(s.x,s.y,s.z),n(lr,cr,fr),s=fr;var f=rr;for(a=lr,ur||(ur=new va(-1,1)),(i=ur).ra(s),i.xa(f),ma(i.b),i.b.ua(t,sn,cn),i.g.l(a),i.J=Br,i.da(),t=ka(i).buffer[0],br.l(Ma(i)),br.Ta(a),a=a.length(),s=Lt(this.a,br,o),o=[],f=0;f<s.length;f++)for(var l=ka(s[f]),u=0;u<l.length;u++){var b=l.buffer[u];!r&&b.b.L||o.push(b)}for(s=[],l=1,dr.l(i.v);1e-5<l&&s.length<h&&0<o.length&&(f=It(i,o,l,!0),Ua(t),null!==f);)if(u=o.indexOf(f),o[u]=o[o.length-1],o.pop(),pr.clear(),u=f.b.L,f.b.L=!1,this.b.c(t,f,pr),f.b.L=u,0===pr.length);else{for(u=Wa(pr.buffer[0]),b=0;b<pr.length;b++)pr.buffer[b].B();u.h&&!r?u.B():(u.v!==i&&qa(u),l=Qa(pf.ka),e(l.s,u.c,-1),l.u.l(u.f),l.b=f.g,l.f=u.C,l.a=c(dr,i.v),s.push(l),u.B(),l=1-l.a/a)}return s},t.l.Xb=function(t,i,a,n,e){pc.markPhysics3dModuleAsUsed(),nr.set(i.x,i.y,i.z),er.set(a.x,a.y,a.z,a.w),a=nr;var s=er;for(sr||(sr=new va(-1,1)),or.clear(),(i=sr).ra(a),i.xa(s),ma(i.b),i.b.ua(t,sn,cn),i.da(),t=Lt(this.a,Ma(i),n),n=[],a=0;a<t.length;a++){hr.clear(),s=ka(i);for(var h=ka(t[a]),o=0;o<s.length;o++){const t=s.buffer[o];for(let i=0;i<h.length;i++)this.b.c(t,h.buffer[i],hr)}if(0!==hr.length)for(s=0;s<hr.length;s++)o=(h=hr.buffer[s]).v===i?h.C:h.J,or.has(o.c)||h.h&&!e||(n.push(o),or.add(o.c)),h.B()}return n},t.l.Wb=function(t,i,a,n,e,s,h,o){pc.markPhysics3dModuleAsUsed(),mr.set(a.x,a.y,a.z),wr.set(i.x,i.y,i.z),gr.set(n.x,n.y,n.z,n.w),xr.set(h.x,h.y,h.z),zr.set(s.x,s.y,s.z),vr.set(o.x,o.y,o.z,o.w),n=wr,s=mr,h=gr,o=zr;var r=xr,f=vr;if(Mr||(Mr=new va(-1,1)),jr||(jr=new va(-1,1)),Ir.clear(),i=jr,(a=Mr).ra(s),a.xa(h),i.ra(r),i.xa(f),ma(a.b),a.b.ua(t,n,cn),a.da(),ma(i.b),i.b.ua(e,o,cn),i.da(),I(Ma(a),Ma(i)))if(n=t.L,s=e.L,t.L=!1,e.L=!1,Qi(this.b,a,i,Ir),t.L=n,e.L=s,0===Ir.length)t=null;else{for(t=1;t<Ir.length;t++)Ir.buffer[t].B();(t=Ir.buffer[0]).v===i&&qa(t)}else t=null;return t},t.l.bc=function(){for(let t=0;t<this.f.length;t++)this.f[t].b.Ba()},t.l.rc=function(t,i,a){pc.markPhysics3dModuleAsUsed();const n=Math.min(t.c,i.c);t=Math.max(t.c,i.c),a?this.h.add(n+(t<<16)):0!==this.h.size&&this.h.delete(n+(t<<16))};var ir=new i,ar=new i,nr=new i,er=new b,sr=null,hr=new de,or=new Set,rr=new b,fr=new i,cr=new i,lr=new i,ur=null,br=new v,pr=new de,dr=new i,yr=new i,mr=new i,wr=new i,gr=new b,xr=new i,zr=new i,vr=new b,Mr=null,jr=null,Ir=new de;ya.prototype=Object.create(N.prototype),t.l=ya.prototype,t.l.ua=function(t,i,a){const n=wa(this,t.c);n?(n.a.j=!1,n.a=t,n.f.l(i),n.c.l(a),n.c.normalize(),R(n)):this.a.push(new K(t,i,a)),t.j=!0,this.Ba(),this.Xa(),xa(this)},t.l.xc=function(t,i,a){if(!(t=wa(this,t)))throw Error("Cannot find shape");t.f.l(i),t.c.l(a),t.c.normalize(),R(t),xa(this)},t.l.fc=function(t){const i=this.a;for(let a=0;a<i.length;a++){const n=i[a];if(n.a.c===t){n.a.j=!1,i[a]=i[i.length-1],i.pop();break}}this.Ba(),this.Xa(),xa(this)},t.l.Ba=function(){const t=tr.j;this.f=0,this.j=4294967295;for(let i=0;i<this.a.length;i++){const a=this.a[i].a;this.f|=1<<a.X,this.j&=t[a.X]}},t.l.Xa=function(){this.L=!1;for(let t=0;t<this.a.length;t++)if(this.a[t].a.L){this.L=!0;break}};var Pr=new G,Cr=new i,Ar=new i,Nr=new i,Or=new i,Sr=new i;Object.defineProperty(va.prototype,"mass",{get(){return this.B},set(t){1e-5>Math.abs(this.B-t)||(this.B=t,this.$=1/t,this.da())}}),Object.defineProperty(va.prototype,"isDynamic",{get(){return!!(1&this.a)}}),Object.defineProperty(va.prototype,"isKinematic",{get(){return!!(2&this.a)},set(t){t===!!(2&this.a)||t&&4&this.a||(t?(this.a|=2,this.a&=-2,Ba(this)):(this.a&=-3,4&this.a||(this.a|=1)),this.da())}}),Object.defineProperty(va.prototype,"isStatic",{get(){return!!(4&this.a)},set(t){t!==!!(4&this.a)&&(t?(this.a|=4,this.a&=-2,this.a&=-3,Ba(this)):(this.a&=-5,2&this.a||(this.a|=1)),this.da())}}),Object.defineProperty(va.prototype,"useGravity",{get(){return!!(16&this.a)},set(t){t!==!!(16&this.a)&&(this.a=t?16|this.a:-17&this.a,this.N(!0))}}),Object.defineProperty(va.prototype,"disableCollisions",{get(){return!!(8&this.a)},set(t){t!==!!(8&this.a)&&(this.a=t?8|this.a:-9&this.a,this.N(!0))}}),Object.defineProperty(va.prototype,"isSleeping",{get(){return!!(512&this.a)},set(t){this.a=t?512|this.a:-513&this.a}}),Object.defineProperty(va.prototype,"positionLockX",{get(){return!!(1&this.c)},set(t){t!==!!(1&this.c)&&(this.c=t?1|this.c:-2&this.c,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"positionLockY",{get(){return!!(2&this.c)},set(t){t!==!!(2&this.c)&&(this.c=t?2|this.c:-3&this.c,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"positionLockZ",{get(){return!!(4&this.c)},set(t){t!==!!(4&this.c)&&(this.c=t?4|this.c:-5&this.c,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"rotationLockX",{get(){return!!(1&this.h)},set(t){t!==!!(1&this.h)&&(this.h=t?1|this.h:-2&this.h,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"rotationLockY",{get(){return!!(2&this.h)},set(t){t!==!!(2&this.h)&&(this.h=t?2|this.h:-3&this.h,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"rotationLockZ",{get(){return!!(4&this.h)},set(t){t!==!!(4&this.h)&&(this.h=t?4|this.h:-5&this.h,La(this),Sa(this),this.N(!0))}}),Object.defineProperty(va.prototype,"_body",{set(){}}),Object.defineProperty(va.prototype,"_entity",{set(){}}),t.l=va.prototype,t.l.qa=function(){return ga(this.b)},t.l.ca=function(){if(!(1024&this.a))return this.P;if(1&this.a&&1/0!==this.B){var t=Xr,i=Ia(this);t.data[0]=i.a,t.data[1]=i.f,t.data[2]=i.j,t.data[3]=i.b,t.data[4]=i.g,t.data[5]=i.m,t.data[6]=i.c,t.data[7]=i.h,t.data[8]=i.o,E(Xr,Wr),Wr.multiply(function(t){return 2&t.b&&za(t),t.c.a}(this.b)),D(this.P,Wr,Xr);{i=(t=this.P).data[0];const n=t.data[3],e=t.data[6],s=t.data[1],h=t.data[4],o=t.data[7],r=t.data[2],f=t.data[5],c=t.data[8],l=c*h-o*f,u=-c*s+o*r,b=f*s-h*r;var a=i*l+n*u+e*b;a&&(a=1/a,t.data[0]=l*a,t.data[1]=u*a,t.data[2]=b*a,t.data[3]=(-c*n+e*f)*a,t.data[4]=(c*i-e*r)*a,t.data[5]=(-f*i+n*r)*a,t.data[6]=(o*n-e*h)*a,t.data[7]=(-o*i+e*s)*a,t.data[8]=(h*i-n*s)*a)}}else(t=this.P).data[0]=1,t.data[1]=0,t.data[2]=0,t.data[3]=0,t.data[4]=1,t.data[5]=0,t.data[6]=0,t.data[7]=0,t.data[8]=1;return this.a&=-1025,this.P},t.l.zb=function(){var t=this.b;return 2&t.b&&za(t),(t=t.c).g||_(t),t.g},t.l.Ab=function(){var t=this.b;return 2&t.b&&za(t),(t=t.c).f||_(t),t.f},t.l.Yb=function(){return this.v},t.l.ra=function(t){l(this.v,t,Number.EPSILON)||(this.v.l(t),Fa(this))},t.l.Y=function(){return 2048&this.a?(this.j.A(this.qa(),Fr),this.F.l(this.v),this.F.add(Fr),this.a&=-2049,this.F):this.F},t.l.Bb=function(){return this.j},t.l.xa=function(t){d(t,this.j,Number.EPSILON)||(this.j.l(t),this.j.normalize(),Fa(this))},t.l.Cb=function(t,i){l(this.v,t,Number.EPSILON)&&d(this.j,i,Number.EPSILON)||(this.v.l(t),this.j.l(i),this.j.normalize(),Fa(this))},t.l.Zb=function(t,i){i.x=this.j.x,i.y=this.j.y,i.z=this.j.z,i.w=this.j.w,t.x=this.v.x,t.y=this.v.y,t.z=this.v.z},t.l.cc=function(t){var i=this.b;i.b|=4,i.b|=2,i.h.l(t),Fa(this)},t.l.ic=function(){var t=this.b;t.b&=-5,t.b|=2,Fa(this)},t.l.bb=function(t,i,n,e,s,h){Ia(this).A(t,Jr),Ia(this).A(i,_r),t=this.b,n-=h.length;var o=Jr,r=_r;for(i=ga(t),a(Ar,o,i),a(Nr,r,i),o=[],r=0;r<t.a.length;r++){const a=t.a[r];if(0!=(e&1<<a.a.X)&&(!a.a.L||s)){a.g.A(Ar,Or),a.g.A(Nr,Sr);var f=a.a;if(C(f.g,Or,Sr)&&(null!==(f=f.za(Or,Sr))&&(f.f=a.a,w(a.transform,f.u),f.u.T(i),o.push(f)),o.length>=n))break}}for(e=o,s=0;s<e.length;s++)(t=e[s]).b=this,w(ja(this),t.u),ja(this).U(t.s),h.push(t)},t.l.Lb=function(t){this.g.x+=t.x,this.g.y+=t.y,this.g.z+=t.z,La(this),this.a|=16384,this.N(!0)},t.l.Kb=function(t){this.o.x+=t.x,this.o.y+=t.y,this.o.z+=t.z,this.a|=16384,this.N(!0)},t.l.Ib=function(t){this.m.x+=t.x,this.m.y+=t.y,this.m.z+=t.z,this.a|=16384,this.N(!0)},t.l.kc=function(t){this.f.l(t),Sa(this),this.N(!0)},t.l.Jb=function(t){this.f.x+=t.x,this.f.y+=t.y,this.f.z+=t.z,this.a|=16384,this.N(!0)},t.l.sc=function(t){this.g.l(t),La(this),this.N(!0)},t.l.Nb=function(t,i){Vr.l(i),Vr.T(this.Y()),o(Vr,t),this.o.add(t),this.m.add(Vr),this.a|=16384,this.N(!0)},t.l.Qa=function(t,i){ja(this).A(t,i),this.nb(i,i)},t.l.nb=function(t,i){n(qr,t,this.Y()),r(i,this.f,qr),i.add(this.g)},t.l.Ub=function(t,i,a){t=wa(this.b,t.c);const n=Qa(pf.sa);_a(n,this,t),Pe.I(i),ot(n,Pe,a,Ce)||a.l(i),Ra(n)},t.l.Vb=function(t,i,a){t=wa(this.b,t.c);const n=Qa(pf.sa);_a(n,this,t),A(n.h,i,a),Ra(n)},t.l.Tb=function(t,i){if(0===this.b.a.length)i.l(this.v);else{var a=1/0,n=Qa(pf.sa);for(let e=0;e<this.b.a.length;e++){_a(n,this,this.b.a[e]),A(n.h,t,tf);const s=f(tf,t);if(1e-5>s)return void i.l(t);s<a&&(a=s,i.l(tf))}Ra(n)}},t.l.N=function(t=!1){this.a&=-513,t&&(this.V=.1)},t.l.da=function(){this.a|=2048,this.a|=1024,this.a|=4096,this.a|=8192,this.a|=16384,this.a|=32768,xa(this.b),this.N()};var Lr=0,Br=1,Er={Ac:Lr,yc:Br,zc:2},Dr=class{constructor(t){this.body=t,this.a=new de}},kr=new y,Fr=new i,Gr=new i,Hr=new i,Jr=new i,_r=new i,Ur=new i,Tr=new i,Kr=new i,Rr=new b,Vr=new i,qr=new i,Xr=new S,Wr=new S,Yr=new i,Zr=new i,$r=new b,Qr=new y,tf=new i,af=class{constructor(t){this.a=t,this.b=null,this.f=[],this.c=!1,this.g=[]}};Ja.prototype.S=function(t,i){g(this.c,t,ef),this.b.S(ef,i),w(this.transform,i)};var nf=new i,ef=new i,sf=1,hf=2,of=4;Va.prototype.B=function(){null!==this.K&&(this.K.ma(),df(pf.Ca,this.K),this.K=null),null!==this.P&&(this.P.ma(),df(pf.Ea,this.P),this.P=null),this.F=this.v=this.m=this.j=null,this.V=this.$=0,this.h=!1,this.o=0,this.ga.set(0,0,0),this.M=0,this.R.clear(),this["__UnityEngine.Collision"]=null,this["__UnityEngine.ContactPoint"]=null,df(pf.O,this)};var rf=new Float64Array(65536),ff=0,cf=[],lf=[],uf=[],bf=[],pf={Db:0,O:1,Da:2,Ca:3,Ea:4,ka:5,sa:6,la:7,ba:8,Aa:9,Ka:10,Ja:11,La:12,Fa:13},df=Ya;$a(pf.Db,(()=>new i)),$a(pf.O,(()=>new Va)),$a(pf.Da,(()=>new Bt)),$a(pf.Ca,(()=>new ha)),$a(pf.Ea,(()=>new oa)),$a(pf.ka,(()=>new at)),$a(pf.sa,(()=>new Ja)),$a(pf.la,(()=>new mi)),$a(pf.ba,(()=>new wi)),$a(pf.Aa,(()=>new xi)),$a(pf.Ka,(()=>new vi)),$a(pf.Ja,(()=>new Mi)),$a(pf.La,(()=>new ji)),$a(pf.Fa,(()=>new Ot));var yf={EPSILON:1e-5,RigidBody:va,ConvexHullShape:Kt,SphereShape:Hi,CapsuleShape:Gi,MeshShape:gt,AABB:v,Vector3:i,PhysicMaterial:O,Constraint:aa,ConstraintRow:ta,World:ba,RayIntersection:at,ContactDetails:Va,Quaternion:b,Matrix4:y};"undefined"!=typeof window&&(window.Goblin=yf),an(i.prototype,{x:"x",y:"y",z:"z"}),nn(i.prototype,i.prototype.set,"set"),nn(i.prototype,i.prototype.normalize,"normalize"),nn(i.prototype,i.prototype.l,"copy"),nn(i.prototype,i.prototype.i,"dot"),an(b.prototype,{x:"x",y:"y",z:"z",w:"w"}),nn(b.prototype,b.prototype.set,"set"),nn(b.prototype,b.prototype.a,"transformVector3"),nn(y.prototype,y.prototype.U,"rotateVector3"),nn(y.prototype,y.prototype.ta,"makeTransform"),nn(S.prototype,S.prototype.A,"transformVector3Into"),an(v.prototype,{min:"min",max:"max"}),nn(v.prototype,v.prototype.transform,"transform"),nn(ba,(function(){if(tr)throw Error("It is a really bad idea to initialize two worlds in the same time");return tr=new ba}),"initialize"),an(ba.prototype,{v:"gravity",m:"bounceThreshold",c:"solver",o:"eventEmitter",j:"collision_matrix"}),nn(ba.prototype,ba.prototype.Mb,"addRigidBody"),nn(ba.prototype,ba.prototype.hc,"removeRigidBody"),nn(ba.prototype,ba.prototype.Eb,"addConstraint"),nn(ba.prototype,ba.prototype.Fb,"removeConstraint"),nn(ba.prototype,ba.prototype.Gb,"step"),nn(ba.prototype,ba.prototype.Rb,"emitEvents"),nn(ba.prototype,ba.prototype.bc,"onCollisionMatrixUpdated"),nn(ba.prototype,ba.prototype.wc,"testRayIntersectPc"),nn(ba.prototype,ba.prototype.ec,"rayIntersectPc"),nn(ba.prototype,ba.prototype.Va,"rayIntersectAllPc"),nn(ba.prototype,ba.prototype.vc,"shapeCastPc"),nn(ba.prototype,ba.prototype.vb,"shapeCastAllPc"),nn(ba.prototype,ba.prototype.Xb,"getIntersectingShapesPc"),nn(ba.prototype,ba.prototype.Wb,"getContactPc"),nn(ba.prototype,ba.prototype.rc,"setIgnoreCollision"),an(ra.prototype,{f:"max_iterations"}),nn(va,Er,"CollisionDetectionMode"),an(va.prototype,{b:"shape",f:"angular_velocity",R:"maxAngularVelocity",g:"linear_velocity",cb:"linear_damping",ab:"angular_damping",J:"collisionDetectionMode"}),nn(va.prototype,va.prototype.Zb,"getTransform"),nn(va.prototype,va.prototype.Cb,"setTransform"),nn(va.prototype,va.prototype.Yb,"getPosition"),nn(va.prototype,va.prototype.Y,"getCOMAdjustedPosition"),nn(va.prototype,va.prototype.ra,"setPosition"),nn(va.prototype,va.prototype.Bb,"getRotation"),nn(va.prototype,va.prototype.xa,"setRotation"),nn(va.prototype,va.prototype.da,"onShapeUpdated"),nn(va.prototype,va.prototype.Kb,"addLinearImpulse"),nn(va.prototype,va.prototype.Lb,"addLinearVelocity"),nn(va.prototype,va.prototype.Ib,"addAngularImpulse"),nn(va.prototype,va.prototype.Jb,"addAngularVelocity"),nn(va.prototype,va.prototype.kc,"setAngularVelocity"),nn(va.prototype,va.prototype.sc,"setLinearVelocity"),nn(va.prototype,va.prototype.Nb,"applyImpulseAtWorldPoint"),nn(va.prototype,va.prototype.Qa,"getVelocityInLocalPoint"),nn(va.prototype,va.prototype.nb,"getVelocityInGlobalPoint"),nn(va.prototype,va.prototype.bb,"rayIntersect"),nn(va.prototype,va.prototype.Ub,"getClosestPointOnShape"),nn(va.prototype,va.prototype.Vb,"getClosestPointOnShapeBounds"),nn(va.prototype,va.prototype.Tb,"getClosestPointOnBounds"),nn(va.prototype,va.prototype.N,"wakeUp"),nn(va.prototype,va.prototype.ca,"getInverseInertiaTensorWorldFrame"),nn(va.prototype,va.prototype.zb,"getDiagonalizedInertiaTensor"),nn(va.prototype,va.prototype.Ab,"getDiagonalizedInertiaTensorRotation"),nn(va.prototype,va.prototype.qa,"getCenterOfMass"),nn(va.prototype,va.prototype.cc,"overrideCenterOfMass"),nn(va.prototype,va.prototype.ic,"resetCenterOfMass"),nn(Er,Lr,"Discrete"),nn(Er,Br,"ContinuousConservativeAdvancement"),nn(Er,2,"ContinuousSpeculative"),an(N.prototype,{L:"isTrigger",g:"aabb"}),an(T.prototype,{c:"uid",a:"material",X:"layer"}),an(ya.prototype,{a:"child_shapes"}),nn(ya.prototype,ya.prototype.Ba,"updateLayersMasks"),nn(ya.prototype,ya.prototype.Xa,"updateIsTriggerFlag"),nn(ya.prototype,ya.prototype.ua,"addChildShape"),nn(ya.prototype,ya.prototype.xc,"updateShapeTransform"),nn(ya.prototype,ya.prototype.fc,"removeChildShape"),an(K.prototype,{a:"shape",b:"aabb"}),nn(Kt,(function(t,a,n,e,s,h){return a=Math.max(a,1e-4),n=Math.max(n,1e-4),e=Math.max(e,1e-4),new Kt(t,[new i(a,n,e),new i(a,n,-e),new i(-a,n,-e),new i(-a,n,e),new i(a,-n,e),new i(a,-n,-e),new i(-a,-n,-e),new i(-a,-n,e)],s,!0,h)}),"fromAABB"),nn(Kt,(function(t){Qt(rs,t);let a=rs.max.x-rs.min.x,n=rs.max.y-rs.min.y,e=rs.max.z-rs.min.z;if(!(1e-6<a&&1e-6<n&&1e-6<e&&3<t.length)){var s=1/0;1e-6<a&&a<s&&(s=a),1e-6<n&&n<s&&(s=n),1e-6<e&&e<s&&(s=e),1/0===s?e=n=a=.01:(a=1e-6>a?.05*s:a/2,n=1e-6>n?.05*s:n/2,e=1e-6>e?.05*s:e/2),s=(rs.min.x+rs.max.x)/2;var h=(rs.min.y+rs.max.y)/2,o=(rs.min.z+rs.max.z)/2;t.length=0,t.push(new i(a+s,n+h,e+o),new i(a+s,n+h,-e+o),new i(-a+s,n+h,-e+o),new i(-a+s,n+h,e+o),new i(a+s,-n+h,e+o),new i(a+s,-n+h,-e+o),new i(-a+s,-n+h,-e+o),new i(-a+s,-n+h,e+o))}}),"approximateByAABBIfNecessary"),nn(Kt.prototype,Kt.prototype.yb,"getShallowCopy"),nn(gt.prototype,gt.prototype.o,"getShallowCopy"),an(at.prototype,{b:"object",f:"shape",u:"point",s:"normal",a:"distance",g:"triangleIndex",ha:"barycentricCoordinates"}),nn(at.prototype,at.prototype.c,"dispose"),an(O.prototype,{name:"name",b:"bounciness",c:"dynamicFriction",g:"staticFriction",f:"frictionCombine",a:"bounceCombine"}),an(aa.prototype,{a:"object_a",b:"object_b",c:"rows",j:"objectAIsDynamic",m:"objectBIsDynamic",v:"disablesCollisionBetweenObjects",F:"breakForce",M:"breakTorque",g:"massScaleA",h:"massScaleB"}),nn(aa.prototype,aa.prototype.Na,"activate"),nn(aa.prototype,aa.prototype.ma,"deactivate"),nn(aa.prototype,aa.prototype.mc,"setBodyA"),nn(aa.prototype,aa.prototype.oc,"setBodyB"),nn(aa.prototype,aa.prototype.qc,"setDisableCollisionFlag"),nn(ta.prototype,ta.prototype.Ya,"reset"),nn(ta.prototype,ta.prototype.$b,"markAsPositional"),nn(ta.prototype,ta.prototype.na,"setJacobianA"),nn(ta.prototype,ta.prototype.oa,"setJacobianB"),nn(ta.prototype,ta.prototype.Sb,"getBias"),nn(ta.prototype,ta.prototype.lc,"setBias"),nn(ta.prototype,ta.prototype.pc,"setCFM"),nn(ta.prototype,ta.prototype.tc,"setLowerLimit"),nn(ta.prototype,ta.prototype.uc,"setUpperLimit"),nn(ta.prototype,ta.prototype.jc,"resetJacobianA"),nn(ta.prototype,ta.prototype.ub,"resetJacobianB"),nn(ta.prototype,ta.prototype.dc,"preventWarmStart"),an(Va.prototype,{v:"bodyA",F:"bodyB",J:"shape_a",C:"shape_b",f:"contact_point",c:"contact_normal",g:"penetration_depth",ga:"relativeVelocity",M:"impulse"}),nn(Va.prototype,Va.prototype.B,"dispose"),an(ua.prototype,{b:"_onCollisionContactEnter",f:"_onCollisionContactStay",c:"_onCollisionContactExit",g:"_onTriggerContactEnter",j:"_onTriggerContactStay",h:"_onTriggerContactExit"}),en(St.prototype.g),en(St.prototype.h),en($i.prototype.f),en($i.prototype.c),en(ua.prototype.a),en(ra.prototype.tb),en(ra.prototype.rb),en(ra.prototype.Pa),en(ra.prototype.sb),en(ra.prototype.wb),en(ra.prototype.xb),en(ra.prototype.Za),en(aa.prototype.R),en(ta.prototype.jb),en(ta.prototype.kb),en(ta.prototype.lb),en(ta.prototype.qb),en(ta.prototype.mb),en(Pt),en(Kt.prototype.eb),en(Kt.prototype.hb),en(Kt.prototype.gb),en(Kt.prototype.fb),en(Ki)}.call(this||window,window.__wpcc=window.__wpcc||{});